<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocuSign Canvas | Private Document Studio</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #64748b;
            --light: #f8fafc;
            --dark: #1e293b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 0.375rem;
            --radius-lg: 0.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background-color: var(--gray-100);
            color: var(--gray-800);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header Styles */
        header {
            background: white;
            box-shadow: var(--shadow);
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .logo-icon {
            font-size: 1.8rem;
        }

        .nav-buttons {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            border: none;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--gray-300);
            color: var(--gray-700);
        }

        .btn-outline:hover {
            background-color: var(--gray-100);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            opacity: 0.9;
        }

        /* Main Content */
        .main-content {
            display: flex;
            flex: 1;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid var(--gray-200);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 2rem;
        }

        .sidebar-heading {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--gray-500);
            margin-bottom: 1rem;
        }

        .tool-btn {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            width: 100%;
            border: none;
            background: transparent;
            text-align: left;
            border-radius: var(--radius);
            color: var(--gray-700);
            cursor: pointer;
            transition: all 0.2s;
        }

        .tool-btn:hover {
            background-color: var(--gray-100);
        }

        .tool-btn.active {
            background-color: var(--primary);
            color: white;
        }

        /* Document Area */
        .document-area {
            flex: 1;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }

        .document-container {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 800px;
            min-height: 800px;
            position: relative;
            overflow: hidden;
        }

        .document-actions {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        /* Signature Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }

        .modal {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            width: 90%;
            max-width: 500px;
            overflow: hidden;
        }

        .modal-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-weight: 600;
            font-size: 1.25rem;
        }

        .modal-close {
            background: transparent;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray-500);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .signature-pad {
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius);
            height: 200px;
            margin-bottom: 1.5rem;
            cursor: crosshair;
        }

        .modal-footer {
            padding: 1.25rem 1.5rem;
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        /* Footer */
        footer {
            background: white;
            border-top: 1px solid var(--gray-200);
            padding: 1.5rem;
            text-align: center;
            color: var(--gray-500);
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 0.75rem;
        }

        .footer-link {
            color: var(--gray-500);
            text-decoration: none;
        }

        .footer-link:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        /* Document Content */
        .document-content {
            padding: 3rem;
            line-height: 1.8;
        }

        .document-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--gray-800);
        }

        .document-text {
            margin-bottom: 1.5rem;
        }

        .signature-line {
            border-top: 1px solid var(--gray-400);
            margin-top: 4rem;
            padding-top: 0.5rem;
            width: 300px;
        }

        .signature-placeholder {
            color: var(--gray-500);
            font-style: italic;
            min-height: 50px;
        }

        /* Annotation Styles */
        .annotation {
            position: absolute;
            background-color: rgba(255, 244, 184, 0.8);
            border: 1px solid rgba(255, 204, 0, 0.5);
            border-radius: 3px;
            padding: 8px 12px;
            font-size: 14px;
            z-index: 10;
            cursor: move;
            max-width: 250px;
        }

        .signature-box {
            position: absolute;
            border: 1px dashed var(--primary);
            border-radius: 4px;
            padding: 8px;
            background: rgba(37, 99, 235, 0.05);
            cursor: pointer;
            transition: all 0.2s;
        }

        .signature-box:hover {
            background: rgba(37, 99, 235, 0.1);
        }

        .signature-img {
            max-width: 100%;
            max-height: 100%;
        }

        /* Toolbar */
        .toolbar {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            background: var(--gray-100);
        }

        .toolbar-btn {
            padding: 0.5rem;
            border-radius: var(--radius);
            border: 1px solid var(--gray-300);
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .toolbar-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--gray-200);
                padding: 1rem;
            }
            
            .toolbar {
                overflow-x: auto;
            }
            
            .document-container {
                min-height: 600px;
            }
            
            .document-content {
                padding: 1.5rem;
            }
        }

        /* Color Picker */
        .color-picker {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .color-option {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .color-option.active {
            border-color: var(--dark);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 20px;
            background: var(--dark);
            color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            z-index: 1000;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-signature logo-icon"></i>
                <span>DocuSign Canvas</span>
            </div>
            <div class="nav-buttons">
                <button class="btn btn-outline" id="help-btn">
                    <i class="fas fa-question-circle"></i> Help
                </button>
                <button class="btn btn-primary" id="save-btn">
                    <i class="fas fa-save"></i> Save
                </button>
            </div>
        </header>

        <div class="main-content">
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3 class="sidebar-heading">Document Tools</h3>
                    <button class="tool-btn active" data-tool="highlight">
                        <i class="fas fa-highlighter"></i> Highlight Text
                    </button>
                    <button class="tool-btn" data-tool="comment">
                        <i class="fas fa-comment"></i> Add Comment
                    </button>
                    <button class="tool-btn" data-tool="text">
                        <i class="fas fa-font"></i> Add Text
                    </button>
                    <button class="tool-btn" data-tool="checkbox">
                        <i class="fas fa-check-square"></i> Checkbox
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-heading">Sign & Initial</h3>
                    <button class="tool-btn" id="sign-btn">
                        <i class="fas fa-signature"></i> Add Signature
                    </button>
                    <button class="tool-btn" id="initial-btn">
                        <i class="fas fa-edit"></i> Add Initials
                    </button>
                    <button class="tool-btn">
                        <i class="fas fa-stamp"></i> Add Stamp
                    </button>

                    <div class="color-picker">
                        <div class="color-option active" style="background-color: #000000;" data-color="#000000"></div>
                        <div class="color-option" style="background-color: #2563eb;" data-color="#2563eb"></div>
                        <div class="color-option" style="background-color: #dc2626;" data-color="#dc2626"></div>
                        <div class="color-option" style="background-color: #16a34a;" data-color="#16a34a"></div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-heading">Collaborate</h3>
                    <button class="tool-btn" id="share-btn">
                        <i class="fas fa-share"></i> Share Document
                    </button>
                    <button class="tool-btn">
                        <i class="fas fa-users"></i> Manage Access
                    </button>
                    <button class="tool-btn" id="history-btn">
                        <i class="fas fa-history"></i> Version History
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-heading">Document Info</h3>
                    <div style="font-size: 0.875rem; color: var(--gray-600);">
                        <p>Created: <span id="created-date">Today</span></p>
                        <p>Last modified: <span id="modified-date">Just now</span></p>
                        <p>Status: <span style="color: var(--success);">Draft</span></p>
                    </div>
                </div>
            </aside>

            <main class="document-area">
                <div class="toolbar">
                    <button class="toolbar-btn active" title="Cursor">
                        <i class="fas fa-mouse-pointer"></i>
                    </button>
                    <button class="toolbar-btn" title="Pan">
                        <i class="fas fa-hand-paper"></i>
                    </button>
                    <button class="toolbar-btn" title="Zoom In">
                        <i class="fas fa-search-plus"></i>
                    </button>
                    <button class="toolbar-btn" title="Zoom Out">
                        <i class="fas fa-search-minus"></i>
                    </button>
                    <button class="toolbar-btn" title="Fit to Width">
                        <i class="fas fa-arrows-alt-h"></i>
                    </button>
                    <button class="toolbar-btn" title="Fit to Page">
                        <i class="fas fa-arrows-alt-v"></i>
                    </button>
                </div>

                <div class="document-container" id="doc-container">
                    <div class="document-content">
                        <h1 class="document-title">PARTNERSHIP AGREEMENT</h1>
                        
                        <p class="document-text">This Partnership Agreement (the "Agreement") is made and entered into as of January 1, 2023, by and between:</p>
                        
                        <p class="document-text"><strong>John Smith</strong>, with an address at 123 Business Ave, New York, NY 10001 ("Partner A")</p>
                        
                        <p class="document-text"><strong>Jane Doe</strong>, with an address at 456 Enterprise St, New York, NY 10002 ("Partner B")</p>
                        
                        <p class="document-text">Whereas, the parties wish to form a partnership (the "Partnership") under the laws of the State of New York for the purpose of operating a consulting business.</p>
                        
                        <p class="document-text">Now, therefore, in consideration of the mutual promises and covenants contained herein, the parties agree as follows:</p>
                        
                        <h3>1. Formation of Partnership</h3>
                        <p class="document-text">The parties hereby form a general partnership pursuant to the laws of the State of New York.</p>
                        
                        <h3>2. Name and Place of Business</h3>
                        <p class="document-text">The name of the Partnership shall be "Smith & Doe Consulting". The principal place of business of the Partnership shall be at 123 Business Ave, New York, NY 10001, or at such other location as the Partners may from time to time agree.</p>
                        
                        <h3>3. Purpose</h3>
                        <p class="document-text">The purpose of the Partnership is to provide business consulting services to clients in the tri-state area.</p>
                        
                        <h3>4. Term</h3>
                        <p class="document-text">The Partnership shall commence on the date of this Agreement and shall continue until terminated by mutual agreement of the Partners or as otherwise provided herein.</p>
                        
                        <h3>5. Capital Contributions</h3>
                        <p class="document-text">Each Partner shall contribute the following capital to the Partnership:</p>
                        <p class="document-text">Partner A: $50,000</p>
                        <p class="document-text">Partner B: $50,000</p>
                        
                        <h3>6. Profit and Loss Allocation</h3>
                        <p class="document-text">Net profits and losses of the Partnership shall be allocated equally between the Partners.</p>
                        
                        <div style="margin-top: 3rem;">
                            <div class="signature-line">
                                <p>Partner A Signature</p>
                                <div class="signature-placeholder" id="signature-placeholder-1">[Click to add signature]</div>
                            </div>
                            
                            <div class="signature-line" style="margin-top: 2rem;">
                                <p>Partner B Signature</p>
                                <div class="signature-placeholder" id="signature-placeholder-2">[Click to add signature]</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Annotations will be added here dynamically -->
                </div>
                
                <div class="document-actions">
                    <button class="btn btn-outline" id="download-btn">
                        <i class="fas fa-download"></i> Download
                    </button>
                    <button class="btn btn-outline" id="share-doc-btn">
                        <i class="fas fa-share"></i> Share
                    </button>
                    <button class="btn btn-success" id="finalize-btn">
                        <i class="fas fa-check-circle"></i> Finalize
                    </button>
                </div>
            </main>
        </div>

        <footer>
            <p>Â© 2023 DocuSign Canvas. All rights reserved.</p>
            <div class="footer-links">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link">Security</a>
                <a href="#" class="footer-link">Contact Us</a>
            </div>
        </footer>
    </div>

    <!-- Signature Modal -->
    <div class="modal-overlay" id="signature-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Add Your Signature</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Draw your signature in the box below:</p>
                <canvas id="signature-pad" class="signature-pad" width="450" height="200"></canvas>
                <div>
                    <button class="btn btn-outline" id="clear-signature">
                        <i class="fas fa-trash-alt"></i> Clear
                    </button>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancel-signature">Cancel</button>
                <button class="btn btn-primary" id="save-signature">Apply Signature</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const signBtn = document.getElementById('sign-btn');
            const signatureModal = document.getElementById('signature-modal');
            const modalClose = document.querySelector('.modal-close');
            const cancelSignature = document.getElementById('cancel-signature');
            const clearSignature = document.getElementById('clear-signature');
            const saveSignature = document.getElementById('save-signature');
            const canvas = document.getElementById('signature-pad');
            const ctx = canvas.getContext('2d');
            const docContainer = document.getElementById('doc-container');
            const toast = document.getElementById('toast');
            const saveBtn = document.getElementById('save-btn');
            const downloadBtn = document.getElementById('download-btn');
            const finalizeBtn = document.getElementById('finalize-btn');
            const signaturePlaceholders = document.querySelectorAll('.signature-placeholder');
            
            // State
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let currentTool = 'highlight';
            let currentColor = '#000000';
            let signatures = {};
            let annotations = [];
            
            // Set canvas style
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = currentColor;
            
            // Initialize
            setCurrentDate();
            setupEventListeners();
            setupSignatureCanvas();
            
            function setCurrentDate() {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('created-date').textContent = now.toLocaleDateString('en-US', options);
                document.getElementById('modified-date').textContent = 'Just now';
            }
            
            function setupEventListeners() {
                // Signature modal
                signBtn.addEventListener('click', openSignatureModal);
                modalClose.addEventListener('click', closeSignatureModal);
                cancelSignature.addEventListener('click', closeSignatureModal);
                clearSignature.addEventListener('click', clearSignatureCanvas);
                saveSignature.addEventListener('click', saveSignatureHandler);
                
                // Tool buttons
                const toolButtons = document.querySelectorAll('.tool-btn');
                toolButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        toolButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        currentTool = button.dataset.tool;
                        showToast(`Selected: ${button.textContent.trim()}`);
                    });
                });
                
                // Color options
                const colorOptions = document.querySelectorAll('.color-option');
                colorOptions.forEach(option => {
                    option.addEventListener('click', () => {
                        colorOptions.forEach(opt => opt.classList.remove('active'));
                        option.classList.add('active');
                        currentColor = option.dataset.color;
                        ctx.strokeStyle = currentColor;
                    });
                });
                
                // Signature placeholders
                signaturePlaceholders.forEach((placeholder, index) => {
                    placeholder.addEventListener('click', () => {
                        openSignatureModal();
                        // Store which signature placeholder we're updating
                        signatureModal.dataset.target = `signature-${index + 1}`;
                    });
                });
                
                // Action buttons
                saveBtn.addEventListener('click', saveDocument);
                downloadBtn.addEventListener('click', downloadDocument);
                finalizeBtn.addEventListener('click', finalizeDocument);
            }
            
            function setupSignatureCanvas() {
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mouseout', stopDrawing);
                
                // Touch events for mobile devices
                canvas.addEventListener('touchstart', handleTouchStart);
                canvas.addEventListener('touchmove', handleTouchMove);
                canvas.addEventListener('touchend', handleTouchEnd);
            }
            
            function openSignatureModal() {
                signatureModal.style.display = 'flex';
                clearSignatureCanvas();
            }
            
            function closeSignatureModal() {
                signatureModal.style.display = 'none';
            }
            
            function clearSignatureCanvas() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
            
            function startDrawing(e) {
                isDrawing = true;
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }
            
            function draw(e) {
                if (!isDrawing) return;
                
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
                
                [lastX, lastY] = [e.offsetX, e.offsetY];
            }
            
            function stopDrawing() {
                isDrawing = false;
            }
            
            function handleTouchStart(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                const mouseEvent = new MouseEvent('mousedown', {
                    clientX: touch.clientX,
                    clientY: touch.clientY,
                    offsetX: touch.clientX - rect.left,
                    offsetY: touch.clientY - rect.top
                });
                canvas.dispatchEvent(mouseEvent);
            }
            
            function handleTouchMove(e) {
                e.preventDefault();
                const touch = e.touches[0];
                const rect = canvas.getBoundingClientRect();
                const mouseEvent = new MouseEvent('mousemove', {
                    clientX: touch.clientX,
                    clientY: touch.clientY,
                    offsetX: touch.clientX - rect.left,
                    offsetY: touch.clientY - rect.top
                });
                canvas.dispatchEvent(mouseEvent);
            }
            
            function handleTouchEnd(e) {
                e.preventDefault();
                const mouseEvent = new MouseEvent('mouseup');
                canvas.dispatchEvent(mouseEvent);
            }
            
            function saveSignatureHandler() {
                const signatureDataURL = canvas.toDataURL();
                const target = signatureModal.dataset.target || 'signature-1';
                
                // Save signature
                signatures[target] = signatureDataURL;
                
                // Update the placeholder
                if (signatureModal.dataset.target) {
                    const placeholder = document.getElementById(`signature-placeholder-${target.split('-')[1]}`);
                    placeholder.innerHTML = `<img src="${signatureDataURL}" class="signature-img" alt="Signature">`;
                    placeholder.style.color = 'var(--gray-800)';
                    placeholder.style.fontStyle = 'normal';
                }
                
                showToast('Signature added successfully!');
                closeSignatureModal();
            }
            
            function saveDocument() {
                // In a real app, this would save to IndexedDB or local storage
                showToast('Document saved successfully');
                
                // Update modified date
                document.getElementById('modified-date').textContent = new Date().toLocaleTimeString();
            }
            
            function downloadDocument() {
                showToast('Preparing document for download...');
                
                // In a real app, this would generate a PDF
                setTimeout(() => {
                    showToast('Document downloaded successfully');
                }, 1500);
            }
            
            function finalizeDocument() {
                // Check if all signatures are added
                const allSigned = Object.keys(signatures).length >= 2;
                
                if (allSigned) {
                    showToast('Document finalized and sent for signing!', 'success');
                    
                    // Update status
                    const statusEl = document.querySelector('[class*="sidebar-section"] div p:last-child span');
                    statusEl.textContent = 'Pending';
                    statusEl.style.color = 'var(--warning)';
                    
                    // Disable editing
                    const tools = document.querySelectorAll('.tool-btn, .toolbar-btn');
                    tools.forEach(tool => {
                        tool.disabled = true;
                        tool.style.opacity = '0.6';
                        tool.style.cursor = 'not-allowed';
                    });
                    
                    finalizeBtn.disabled = true;
                    finalizeBtn.style.opacity = '0.6';
                    finalizeBtn.textContent = ' Finalized';
                    finalizeBtn.innerHTML = '<i class="fas fa-check-circle"></i> Finalized';
                } else {
                    showToast('Please add all required signatures before finalizing', 'error');
                }
            }
            
            function showToast(message, type = 'default') {
                toast.textContent = message;
                toast.className = 'toast show';
                
                if (type === 'error') {
                    toast.style.background = 'var(--danger)';
                } else if (type === 'success') {
                    toast.style.background = 'var(--success)';
                } else {
                    toast.style.background = 'var(--dark)';
                }
                
                setTimeout(() => {
                    toast.className = 'toast';
                }, 3000);
            }
            
            // Add some demo annotations
            setTimeout(() => {
                addDemoAnnotations();
            }, 1000);
            
            function addDemoAnnotations() {
                // Demo highlight
                const highlight = document.createElement('div');
                highlight.className = 'annotation';
                highlight.innerHTML = 'Should this be 60/40?';
                highlight.style.top = '420px';
                highlight.style.left = '120px';
                highlight.style.backgroundColor = 'rgba(255, 244, 184, 0.8)';
                docContainer.appendChild(highlight);
                annotations.push(highlight);
                
                // Demo comment
                const comment = document.createElement('div');
                comment.className = 'annotation';
                comment.innerHTML = 'We agreed on equal contribution';
                comment.style.top = '480px';
                comment.style.left = '380px';
                comment.style.backgroundColor = 'rgba(173, 216, 230, 0.8)';
                docContainer.appendChild(comment);
                annotations.push(comment);
                
                // Demo signature boxes
                const signatureBox1 = document.createElement('div');
                signatureBox1.className = 'signature-box';
                signatureBox1.style.top = '1020px';
                signatureBox1.style.left = '120px';
                signatureBox1.style.width = '250px';
                signatureBox1.style.height = '60px';
                signatureBox1.addEventListener('click', () => {
                    openSignatureModal();
                    signatureModal.dataset.target = 'signature-1';
                });
                docContainer.appendChild(signatureBox1);
                
                const signatureBox2 = document.createElement('div');
                signatureBox2.className = 'signature-box';
                signatureBox2.style.top = '1190px';
                signatureBox2.style.left = '120px';
                signatureBox2.style.width = '250px';
                signatureBox2.style.height = '60px';
                signatureBox2.addEventListener('click', () => {
                    openSignatureModal();
                    signatureModal.dataset.target = 'signature-2';
                });
                docContainer.appendChild(signatureBox2);
            }
        });
    </script>
</body>
</html>
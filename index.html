<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaxIntelli | Nigerian Tax Intelligence Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #006400;
            --primary-dark: #004d00;
            --primary-light: #4caf50;
            --secondary: #1a237e;
            --accent: #ff9800;
            --accent-dark: #e68900;
            --text: #333333;
            --text-light: #666666;
            --background: #f8f9fa;
            --white: #ffffff;
            --gray-light: #e9ecef;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        .top-header {
            background: var(--primary-dark);
            color: var(--white);
            padding: 0.5rem 2rem;
            font-size: 0.9rem;
        }

        .top-header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quick-links {
            display: flex;
            gap: 1.5rem;
        }

        .quick-link {
            color: var(--white);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
        }

        .quick-link:hover {
            color: var(--accent);
        }

        .contact-info {
            display: flex;
            gap: 1.5rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1.5rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 0.5rem 1rem;
            border-radius: 50px;
        }

        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.15);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Onboarding Styles */
        .onboarding-container {
            max-width: 800px;
            margin: 2rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .onboarding-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .onboarding-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .onboarding-header p {
            opacity: 0.9;
        }

        .progress-bar {
            height: 6px;
            background: var(--gray-light);
            width: 100%;
            margin-top: 1.5rem;
        }

        .progress {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: var(--transition);
        }

        .onboarding-body {
            padding: 2rem;
        }

        .onboarding-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .onboarding-step.active {
            display: block;
        }

        .step-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .step-description {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--text-light);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-card {
            background: var(--white);
            border: 2px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .option-card:hover {
            border-color: var(--primary-light);
            transform: translateY(-5px);
        }

        .option-card.selected {
            border-color: var(--primary);
            background: rgba(0, 100, 0, 0.05);
        }

        .option-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .option-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .option-description {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
        }

        .input-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 100, 0, 0.1);
        }

        .input-hint {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }

        .onboarding-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-light);
        }

        .btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: var(--gray-light);
            color: var(--text-light);
            cursor: not-allowed;
            transform: none;
        }

        .btn-accent {
            background: var(--accent);
        }

        .btn-accent:hover {
            background: var(--accent-dark);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(0, 100, 0, 0.05);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--gray-light);
            transition: var(--transition);
        }

        .step-dot.active {
            background: var(--primary);
        }

        /* AI Insight Section */
        .ai-insight-section {
            background: linear-gradient(135deg, #1a237e, #283593);
            color: var(--white);
            padding: 3rem 2rem;
            border-radius: var(--radius);
            margin: 2rem auto;
            max-width: 1200px;
            position: relative;
            overflow: hidden;
        }

        .ai-insight-container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }

        .ai-insight-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 2rem;
        }

        .ai-insight-header h2 {
            font-size: 2rem;
        }

        .ai-icon {
            font-size: 2.5rem;
            color: var(--accent);
        }

        .ai-insight-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 1.5rem;
            backdrop-filter: blur(5px);
            border-left: 4px solid var(--accent);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-insight-text {
            font-size: 1.2rem;
            font-weight: 500;
            line-height: 1.6;
        }

        .ai-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .ai-btn {
            background: var(--accent);
            color: var(--white);
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-btn:hover {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        /* Results Section */
        .results-container {
            max-width: 800px;
            margin: 2rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: none;
        }

        .results-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .results-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .results-body {
            padding: 2rem;
        }

        .tax-summary {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
        }

        .tax-amount {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 1rem 0;
        }

        .tax-breakdown {
            margin: 1.5rem 0;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .tax-tip {
            background: #e8f5e9;
            border-left: 4px solid var(--primary-light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
        }

        .tax-tip h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: center;
        }

        /* Payment Guide Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--radius);
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .payment-steps {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .step {
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }

        .step-number {
            background: var(--primary);
            color: var(--white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content h3 {
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .top-header {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
            }
            
            .quick-links, .contact-info {
                gap: 1rem;
            }
            
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--primary-dark);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }

            nav ul.show {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .onboarding-body, .results-body {
                padding: 1.5rem;
            }

            .actions {
                flex-direction: column;
            }
            
            .ai-insight-header {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Header with Quick Links -->
    <div class="top-header">
        <div class="top-header-container">
            <div class="quick-links">
                <a href="#" class="quick-link" id="how-to-pay-link">
                    <i class="fas fa-credit-card"></i> How to Pay Tax
                </a>
                <a href="#" class="quick-link" id="contact-link">
                    <i class="fas fa-headset"></i> Contact Support
                </a>
                <a href="#" class="quick-link" id="firs-link">
                    <i class="fas fa-external-link-alt"></i> FIRS Website
                </a>
            </div>
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>Kenechukwu130@gmail.com</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span>+234 915 307 2571</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">💰</div>
                <div class="logo-text">
                    <h1>TaxIntelli</h1>
                    <p>Nigerian Tax Intelligence Platform</p>
                </div>
            </div>
            <nav>
                <ul id="nav-menu">
                    <li><a href="#calculator" class="active"><i class="fas fa-calculator"></i> Calculator</a></li>
                    <li><a href="#ai-insights"><i class="fas fa-robot"></i> AI Insights</a></li>
                    <li><a href="#resources"><i class="fas fa-book"></i> Resources</a></li>
                    <li><a href="#payment-methods"><i class="fas fa-credit-card"></i> Pay Tax</a></li>
                </ul>
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Onboarding Container -->
    <div class="onboarding-container" id="onboarding-container">
        <div class="onboarding-header">
            <h2>Let's Calculate Your Tax</h2>
            <p>Answer a few simple questions to get your personalized tax estimate</p>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
        </div>

        <div class="onboarding-body">
            <!-- Step 1: Welcome -->
            <div class="onboarding-step active" id="step-1">
                <h3 class="step-title">Welcome to TaxIntelli</h3>
                <p class="step-description">We'll help you understand your tax obligations in Nigeria with simple, easy-to-understand questions.</p>
                
                <div class="options-grid">
                    <div class="option-card" data-value="individual">
                        <div class="option-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="option-title">I'm an Individual</div>
                        <div class="option-description">Calculate personal income tax</div>
                    </div>
                    <div class="option-card" data-value="business">
                        <div class="option-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="option-title">I have a Business</div>
                        <div class="option-description">Calculate company tax</div>
                    </div>
                </div>

                <div class="onboarding-footer">
                    <div></div> <!-- Empty div for spacing -->
                    <button class="btn btn-accent" id="step-1-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 2: Income Type -->
            <div class="onboarding-step" id="step-2">
                <h3 class="step-title">How Do You Earn Money?</h3>
                <p class="step-description">Select the main way you earn income</p>
                
                <div class="options-grid" id="income-type-options">
                    <!-- Options will be populated by JavaScript based on previous selection -->
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-2-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-2-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 3: Turnover/Income -->
            <div class="onboarding-step" id="step-3">
                <h3 class="step-title" id="step-3-title">What Is Your Annual Income?</h3>
                <p class="step-description" id="step-3-description">Enter your total income for the year</p>
                
                <div class="input-group">
                    <label for="income-amount" id="income-label">Annual Income (₦)</label>
                    <input type="number" id="income-amount" class="input-control" placeholder="Enter amount">
                    <div class="input-hint" id="income-hint">This helps us calculate your tax accurately</div>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-3-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-3-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 4: Additional Details -->
            <div class="onboarding-step" id="step-4">
                <h3 class="step-title" id="step-4-title">Any Allowances or Deductions?</h3>
                <p class="step-description" id="step-4-description">These can reduce the amount of tax you pay</p>
                
                <div class="input-group">
                    <label for="allowances" id="allowances-label">Annual Allowances & Deductions (₦)</label>
                    <input type="number" id="allowances" class="input-control" placeholder="Enter amount (optional)">
                    <div class="input-hint" id="allowances-hint">Examples: Pension contributions, NHF, dependents</div>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-4-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-4-next">
                        Calculate Tax <i class="fas fa-calculator"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 5: Processing -->
            <div class="onboarding-step" id="step-5">
                <h3 class="step-title">Calculating Your Tax</h3>
                <p class="step-description">Our smart system is analyzing your information...</p>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <i class="fas fa-cog fa-spin" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                    <p>Please wait while we calculate your tax obligations</p>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-5-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-5-next" disabled>
                        Processing <i class="fas fa-spinner fa-spin"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Insight Section -->
    <section class="ai-insight-section" id="ai-insights">
        <div class="ai-insight-container">
            <div class="ai-insight-header">
                <i class="fas fa-robot ai-icon"></i>
                <h2>Nigerian Tax Intelligence AI</h2>
            </div>
            <div class="ai-insight-box">
                <div class="ai-insight-text" id="ai-insight-text">
                    Our AI analyzes thousands of Nigerian tax scenarios to provide you with personalized optimization strategies.
                </div>
            </div>
            <div class="ai-controls">
                <button class="ai-btn" id="new-insight-btn">
                    <i class="fas fa-sync-alt"></i> New Nigerian Tax Insight
                </button>
                <button class="ai-btn" id="save-insight-btn">
                    <i class="fas fa-bookmark"></i> Save Insight
                </button>
            </div>
        </div>
    </section>

    <!-- Results Container -->
    <div class="results-container" id="results-container">
        <div class="results-header">
            <h2>Your Tax Analysis</h2>
            <p>Here's your personalized tax estimate</p>
        </div>

        <div class="results-body">
            <div class="tax-summary">
                <p>Based on your information, your estimated tax is:</p>
                <div class="tax-amount" id="calculated-tax">₦0</div>
                <p>per year</p>
            </div>

            <div class="tax-breakdown">
                <div class="breakdown-item">
                    <span>Taxable Income:</span>
                    <span id="taxable-income">₦0</span>
                </div>
                <div class="breakdown-item">
                    <span>Tax Rate:</span>
                    <span id="tax-rate">0%</span>
                </div>
                <div class="breakdown-item">
                    <span>Allowances & Deductions:</span>
                    <span id="total-allowances">₦0</span>
                </div>
                <div class="breakdown-item">
                    <span><strong>Net Tax Payable:</strong></span>
                    <span><strong id="net-tax">₦0</strong></span>
                </div>
            </div>

            <div class="tax-tip">
                <h4><i class="fas fa-lightbulb"></i> Smart Tax Tip</h4>
                <p id="optimization-tip">Based on your profile, we recommend maximizing your pension contributions to reduce taxable income.</p>
            </div>

            <div class="actions">
                <button class="btn btn-outline" id="restart-btn">
                    <i class="fas fa-redo"></i> Start Over
                </button>
                <button class="btn" id="save-result">
                    <i class="fas fa-download"></i> Save Result
                </button>
            </div>
        </div>
    </div>

    <!-- Payment Guide Modal -->
    <div class="modal" id="payment-guide-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('payment-guide-modal')">&times;</button>
            <h2>How to Pay Your Taxes in Nigeria</h2>
            <p>Follow these simple steps to fulfill your tax obligations:</p>
            
            <div class="payment-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Get Your Tax Identification Number (TIN)</h3>
                        <p>Visit any FIRS office or approved bank to register and get your TIN. This is your unique tax identity.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Calculate Your Tax</h3>
                        <p>Use our calculator to determine how much tax you need to pay based on your income or business turnover.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Choose Payment Method</h3>
                        <p>You can pay through banks, online via the FIRS e-TaxPay platform, or at designated POS locations.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Keep Your Receipt</h3>
                        <p>Always collect and keep your payment receipt as proof. You'll need it for tax clearance certificates.</p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 1.5rem;">
                <button class="btn" onclick="closeModal('payment-guide-modal')">
                    <i class="fas fa-check"></i> Got It!
                </button>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div class="modal" id="contact-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal('contact-modal')">&times;</button>
            <h2>Contact TaxIntelli Support</h2>
            <p>We're here to help with all your Nigerian tax questions:</p>
            
            <div style="margin: 1.5rem 0;">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <i class="fas fa-envelope" style="color: var(--primary); font-size: 1.2rem;"></i>
                    <div>
                        <strong>Email:</strong> Kenechukwu130@gmail.com
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <i class="fas fa-phone" style="color: var(--primary); font-size: 1.2rem;"></i>
                    <div>
                        <strong>Phone:</strong> +234 915 307 2571
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <i class="fas fa-clock" style="color: var(--primary); font-size: 1.2rem;"></i>
                    <div>
                        <strong>Response Time:</strong> Within 24 hours
                    </div>
                </div>
            </div>
            
            <p><strong>Note:</strong> For official FIRS inquiries, please contact the Federal Inland Revenue Service directly.</p>
            
            <div style="text-align: center; margin-top: 1.5rem;">
                <button class="btn" onclick="closeModal('contact-modal')">
                    <i class="fas fa-check"></i> Close
                </button>
            </div>
        </div>
    </div>

    <script>
        // User data object to store responses
        const userData = {
            userType: null, // 'individual' or 'business'
            incomeType: null,
            incomeAmount: null,
            allowances: 0
        };

        // Nigerian Tax AI Insights - 50+ proprietary insights
        const nigerianTaxInsights = [
            "Consider restructuring your business as an LLC to take advantage of pass-through taxation benefits under Nigerian law.",
            "Maximize your pension contributions - up to 25% of your annual income is tax-deductible in Nigeria.",
            "Small businesses with turnover below ₦25 million are exempt from Company Income Tax under Nigerian law.",
            "Agricultural companies can qualify for 5-year tax holidays under the Pioneer Status incentive in Nigeria.",
            "Keep detailed records of all business expenses - even small purchases add up to significant deductions in Nigeria.",
            "Consider timing major equipment purchases to maximize capital allowance claims in high-income years in Nigeria.",
            "Export-oriented businesses can claim the Export Expansion Grant worth up to 30% of export value in Nigeria.",
            "R&D expenses are 200% deductible for technology and manufacturing companies in Nigeria.",
            "Rental property owners in Nigeria can deduct mortgage interest, repairs, and management fees.",
            "Consider hiring family members in legitimate roles to shift income to lower tax brackets in Nigeria.",
            "Educational expenses for employee training are 100% tax deductible in Nigeria.",
            "Health insurance premiums for employees are tax-deductible business expenses in Nigeria.",
            "Donations to approved charitable organizations in Nigeria are tax-deductible up to 10% of assessable profit.",
            "Consider incorporating in Nigerian economic free zones for complete tax holidays.",
            "Software development costs can be capitalized and amortized over 3 years in Nigeria.",
            "Electric vehicle purchases in Nigeria qualify for accelerated capital allowances.",
            "Business losses in Nigeria can be carried forward indefinitely to offset future profits.",
            "Consider deferring income to next tax year if you expect to be in a lower Nigerian tax bracket.",
            "Home office deductions are available for remote workers with dedicated workspace in Nigeria.",
            "Professional subscription fees (ICAN, NSE, etc.) are tax deductible in Nigeria.",
            "Business travel expenses including accommodation and meals are deductible in Nigeria.",
            "Marketing and advertising costs are 100% deductible in the year incurred in Nigeria.",
            "Bad debts written off are tax deductible in Nigeria if proper documentation is maintained.",
            "Consider leasing instead of buying equipment to preserve cash flow in Nigeria.",
            "Inventory valuation methods can significantly impact taxable income in Nigeria - consider FIFO vs LIFO.",
            "Prepaid expenses can be deducted in the year paid if they relate to the following 12 months in Nigeria.",
            "Consider employee stock options as tax-efficient compensation in Nigeria.",
            "Business entertainment expenses are deductible up to 5% of profit before tax in Nigeria.",
            "Legal and professional fees related to business operations are fully deductible in Nigeria.",
            "Contributions to the National Housing Fund are tax-deductible in Nigeria.",
            "Consider splitting income among family members through legitimate business partnerships in Nigeria.",
            "Export processing companies in Nigeria enjoy complete tax holidays for their first 5 years.",
            "Research and development tax credits can reduce your Nigerian tax liability significantly.",
            "Consider accelerating deductible expenses into the current Nigerian tax year.",
            "Business vehicle expenses including fuel and maintenance are deductible in Nigeria.",
            "Royalty payments for intellectual property are tax-deductible expenses in Nigeria.",
            "Consider establishing a holding company structure for asset protection and tax planning in Nigeria.",
            "Startup costs can be amortized over 5 years for tax purposes in Nigeria.",
            "Interest on business loans is fully tax deductible in Nigeria.",
            "Consider contributing to approved environmental projects for additional tax credits in Nigeria.",
            "Business insurance premiums are fully tax deductible in Nigeria.",
            "Consider timing bonus payments to optimize tax liabilities across years in Nigeria.",
            "Software as a Service (SaaS) subscriptions are deductible business expenses in Nigeria.",
            "Consider establishing an employee profit-sharing plan as tax-efficient compensation in Nigeria.",
            "Business gifts up to ₦10,000 per recipient per year are deductible in Nigeria.",
            "Consider registering for VAT only if your turnover exceeds ₦25 million annually in Nigeria.",
            "Business-related educational expenses for owners are tax deductible in Nigeria.",
            "Consider establishing a separate entity for rental properties to limit liability in Nigeria.",
            "Franchise fees and licensing costs are deductible business expenses in Nigeria.",
            "Consider deferring billings to shift income to a lower-tax year in Nigeria.",
            "Business-related magazine and publication subscriptions are deductible in Nigeria.",
            "Consider establishing a family trust for estate planning and tax optimization in Nigeria.",
            "Cost of goods sold directly reduces your taxable business income in Nigeria.",
            "Consider timing asset disposals to optimize capital gains tax liabilities in Nigeria.",
            "Business-related phone and internet expenses are partially deductible in Nigeria.",
            "Consider establishing a separate company for high-risk business activities in Nigeria.",
            "Contributions to employee retirement plans are tax deductible in Nigeria.",
            "Consider grouping related businesses for consolidated tax filing in Nigeria.",
            "Business-related software purchases can be deducted or capitalized in Nigeria.",
            "Consider establishing operations in Nigerian states with investment incentives."
        ];

        let currentInsightIndex = 0;
        let savedInsights = [];

        // DOM elements
        const onboardingContainer = document.getElementById('onboarding-container');
        const resultsContainer = document.getElementById('results-container');
        const progressBar = document.getElementById('progress-bar');
        const steps = document.querySelectorAll('.onboarding-step');
        const stepIndicators = document.querySelectorAll('.step-dot');

        // Step navigation functions
        function goToStep(stepNumber) {
            // Hide all steps
            steps.forEach(step => step.classList.remove('active'));
            stepIndicators.forEach(indicator => indicator.classList.remove('active'));
            
            // Show current step
            document.getElementById(`step-${stepNumber}`).classList.add('active');
            stepIndicators[stepNumber - 1].classList.add('active');
            
            // Update progress bar
            const progressPercentage = ((stepNumber - 1) / (steps.length - 1)) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }

        // Step 1: User Type Selection
        document.querySelectorAll('#step-1 .option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards
                document.querySelectorAll('#step-1 .option-card').forEach(c => {
                    c.classList.remove('selected');
                });
                
                // Select this card
                this.classList.add('selected');
                userData.userType = this.getAttribute('data-value');
                
                // Enable next button
                document.getElementById('step-1-next').disabled = false;
            });
        });

        // Step 1 Next Button
        document.getElementById('step-1-next').addEventListener('click', function() {
            // Populate step 2 options based on user type
            const incomeTypeOptions = document.getElementById('income-type-options');
            incomeTypeOptions.innerHTML = '';
            
            if (userData.userType === 'individual') {
                const individualOptions = [
                    { value: 'salary', icon: 'fa-money-bill', title: 'Salary Earner', description: 'I work for a company and receive a salary' },
                    { value: 'business', icon: 'fa-store', title: 'Business Owner', description: 'I run my own business' },
                    { value: 'rental', icon: 'fa-home', title: 'Rental Income', description: 'I earn from renting out property' },
                    { value: 'investment', icon: 'fa-chart-line', title: 'Investment Income', description: 'I earn from investments' }
                ];
                
                individualOptions.forEach(option => {
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.setAttribute('data-value', option.value);
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas ${option.icon}"></i>
                        </div>
                        <div class="option-title">${option.title}</div>
                        <div class="option-description">${option.description}</div>
                    `;
                    incomeTypeOptions.appendChild(card);
                });
            } else {
                const businessOptions = [
                    { value: 'small', icon: 'fa-store', title: 'Small Business', description: 'Turnover less than ₦25 million' },
                    { value: 'medium', icon: 'fa-building', title: 'Medium Business', description: 'Turnover ₦25M - ₦100M' },
                    { value: 'large', icon: 'fa-industry', title: 'Large Business', description: 'Turnover more than ₦100M' }
                ];
                
                businessOptions.forEach(option => {
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.setAttribute('data-value', option.value);
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas ${option.icon}"></i>
                        </div>
                        <div class="option-title">${option.title}</div>
                        <div class="option-description">${option.description}</div>
                    `;
                    incomeTypeOptions.appendChild(card);
                });
            }
            
            // Add event listeners to new option cards
            document.querySelectorAll('#income-type-options .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remove selection from all cards
                    document.querySelectorAll('#income-type-options .option-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    
                    // Select this card
                    this.classList.add('selected');
                    userData.incomeType = this.getAttribute('data-value');
                    
                    // Enable next button
                    document.getElementById('step-2-next').disabled = false;
                });
            });
            
            goToStep(2);
        });

        // Step 2 Next Button
        document.getElementById('step-2-next').addEventListener('click', function() {
            // Update step 3 based on user type and income type
            const step3Title = document.getElementById('step-3-title');
            const step3Description = document.getElementById('step-3-description');
            const incomeLabel = document.getElementById('income-label');
            const incomeHint = document.getElementById('income-hint');
            
            if (userData.userType === 'individual') {
                step3Title.textContent = "What Is Your Annual Income?";
                step3Description.textContent = "Enter your total income for the year";
                incomeLabel.textContent = "Annual Income (₦)";
                incomeHint.textContent = "This helps us calculate your tax accurately";
            } else {
                step3Title.textContent = "What Is Your Annual Turnover?";
                step3Description.textContent = "Enter your business's total turnover for the year";
                incomeLabel.textContent = "Annual Turnover (₦)";
                incomeHint.textContent = "Your turnover is the total amount of money your business makes";
            }
            
            goToStep(3);
        });

        // Step 2 Back Button
        document.getElementById('step-2-back').addEventListener('click', function() {
            goToStep(1);
        });

        // Step 3: Income Amount Input
        document.getElementById('income-amount').addEventListener('input', function() {
            const value = parseFloat(this.value) || 0;
            userData.incomeAmount = value;
            
            // Enable next button if value is valid
            document.getElementById('step-3-next').disabled = value <= 0;
        });

        // Step 3 Next Button
        document.getElementById('step-3-next').addEventListener('click', function() {
            // Update step 4 based on user type
            const step4Title = document.getElementById('step-4-title');
            const step4Description = document.getElementById('step-4-description');
            const allowancesLabel = document.getElementById('allowances-label');
            const allowancesHint = document.getElementById('allowances-hint');
            
            if (userData.userType === 'individual') {
                step4Title.textContent = "Any Allowances or Deductions?";
                step4Description.textContent = "These can reduce the amount of tax you pay";
                allowancesLabel.textContent = "Annual Allowances & Deductions (₦)";
                allowancesHint.textContent = "Examples: Pension contributions, NHF, dependents";
            } else {
                step4Title.textContent = "Any Business Expenses or Deductions?";
                step4Description.textContent = "These can reduce the amount of tax your business pays";
                allowancesLabel.textContent = "Annual Business Expenses (₦)";
                allowancesHint.textContent = "Examples: Employee salaries, rent, equipment costs";
            }
            
            goToStep(4);
        });

        // Step 3 Back Button
        document.getElementById('step-3-back').addEventListener('click', function() {
            goToStep(2);
        });

        // Step 4: Allowances Input
        document.getElementById('allowances').addEventListener('input', function() {
            const value = parseFloat(this.value) || 0;
            userData.allowances = value;
        });

        // Step 4 Next Button
        document.getElementById('step-4-next').addEventListener('click', function() {
            goToStep(5);
            
            // Simulate processing delay
            setTimeout(function() {
                calculateTax();
                onboardingContainer.style.display = 'none';
                resultsContainer.style.display = 'block';
            }, 2000);
        });

        // Step 4 Back Button
        document.getElementById('step-4-back').addEventListener('click', function() {
            goToStep(3);
        });

        // Step 5 Back Button
        document.getElementById('step-5-back').addEventListener('click', function() {
            goToStep(4);
        });

        // Restart Button
        document.getElementById('restart-btn').addEventListener('click', function() {
            // Reset user data
            userData.userType = null;
            userData.incomeType = null;
            userData.incomeAmount = null;
            userData.allowances = 0;
            
            // Reset UI
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById('income-amount').value = '';
            document.getElementById('allowances').value = '';
            document.getElementById('step-1-next').disabled = true;
            document.getElementById('step-2-next').disabled = true;
            document.getElementById('step-3-next').disabled = true;
            
            // Show onboarding, hide results
            onboardingContainer.style.display = 'block';
            resultsContainer.style.display = 'none';
            
            // Go back to step 1
            goToStep(1);
        });

        // Save Result Button
        document.getElementById('save-result').addEventListener('click', function() {
            alert('Calculation saved! In a full implementation, this would save to your account or download as PDF.');
        });

        // Tax Calculation Function
        function calculateTax() {
            let taxableIncome = userData.incomeAmount - userData.allowances;
            let tax = 0;
            let taxRate = 0;
            let tip = '';
            
            if (userData.userType === 'individual') {
                // Personal income tax calculation (simplified)
                if (taxableIncome <= 300000) {
                    taxRate = 0.07;
                } else if (taxableIncome <= 600000) {
                    taxRate = 0.11;
                } else if (taxableIncome <= 1100000) {
                    taxRate = 0.15;
                } else if (taxableIncome <= 1600000) {
                    taxRate = 0.19;
                } else {
                    taxRate = 0.21;
                }
                
                tax = taxableIncome * taxRate;
                
                // Generate tip based on income type
                switch(userData.incomeType) {
                    case 'salary':
                        tip = "Consider maximizing your pension contributions (up to 25% of annual income) and National Housing Fund contributions to reduce your taxable income.";
                        break;
                    case 'business':
                        tip = "Ensure you're claiming all legitimate business expenses. Consider timing major equipment purchases to maximize deductions.";
                        break;
                    case 'rental':
                        tip = "Maximize deductions for property maintenance, insurance, and management fees. Consider restructuring property ownership for optimal tax efficiency.";
                        break;
                    case 'investment':
                        tip = "Review your investment portfolio for tax-efficient instruments. Consider timing of capital gains realization.";
                        break;
                }
            } else {
                // Corporate tax calculation (simplified)
                if (userData.incomeType === 'small') {
                    taxRate = 0.20; // Small company rate
                    tip = "Small businesses with turnover below ₦25 million enjoy reduced tax rates. Consider timing equipment purchases to maximize deductions.";
                } else if (userData.incomeType === 'medium') {
                    taxRate = 0.25; // Medium company rate
                    tip = "Medium-sized businesses can benefit from various incentives. Explore available tax credits for job creation and capital investments.";
                } else {
                    taxRate = 0.30; // Standard CIT rate
                    tip = "Large companies should explore sector-specific incentives and consider strategic timing of major expenses to optimize tax liability.";
                }
                
                tax = taxableIncome * taxRate;
            }
            
            // Update results UI
            document.getElementById('calculated-tax').textContent = `₦${Math.round(tax).toLocaleString()}`;
            document.getElementById('taxable-income').textContent = `₦${Math.round(taxableIncome).toLocaleString()}`;
            document.getElementById('tax-rate').textContent = `${(taxRate * 100).toFixed(1)}%`;
            document.getElementById('total-allowances').textContent = `₦${Math.round(userData.allowances).toLocaleString()}`;
            document.getElementById('net-tax').textContent = `₦${Math.round(tax).toLocaleString()}`;
            document.getElementById('optimization-tip').textContent = tip;
        }

        // AI Insight Functions
        function displayRandomInsight() {
            const randomIndex = Math.floor(Math.random() * nigerianTaxInsights.length);
            currentInsightIndex = randomIndex;
            document.getElementById('ai-insight-text').textContent = nigerianTaxInsights[randomIndex];
        }

        function saveCurrentInsight() {
            if (!savedInsights.includes(currentInsightIndex)) {
                savedInsights.push(currentInsightIndex);
                alert('Nigerian tax insight saved to your collection!');
            } else {
                alert('This Nigerian tax insight is already saved.');
            }
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.classList.toggle('show');
        });

        // Close mobile menu when a link is clicked
        document.querySelectorAll('#nav-menu a').forEach(link => {
            link.addEventListener('click', function() {
                const navMenu = document.getElementById('nav-menu');
                navMenu.classList.remove('show');
            });
        });

        // Header Quick Links
        document.getElementById('how-to-pay-link').addEventListener('click', function(e) {
            e.preventDefault();
            openModal('payment-guide-modal');
        });

        document.getElementById('contact-link').addEventListener('click', function(e) {
            e.preventDefault();
            openModal('contact-modal');
        });

        document.getElementById('firs-link').addEventListener('click', function(e) {
            e.preventDefault();
            window.open('https://www.firs.gov.ng', '_blank');
        });

        // AI Insight buttons
        document.getElementById('new-insight-btn').addEventListener('click', displayRandomInsight);
        document.getElementById('save-insight-btn').addEventListener('click', saveCurrentInsight);

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            document.querySelectorAll('.modal').forEach(modal => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });

        // Initialize
        displayRandomInsight();

        // Auto-rotate insights every 15 seconds
        setInterval(displayRandomInsight, 15000);
    </script>
</body>
</html>
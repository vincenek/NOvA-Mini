<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsightForge - Your Personal Insight Generator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f0f4f8; color: #333; }
        h1 { text-align: center; color: #007bff; }
        .container { max-width: 800px; margin: auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        textarea, input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        #output { margin-top: 20px; padding: 15px; background: #e9f7ff; border-radius: 4px; }
        canvas { display: block; margin: 20px auto; border: 1px solid #ccc; }
        #history { margin-top: 20px; font-size: 0.9em; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <h1>InsightForge</h1>
        <p>Enter your prompt or dilemma below, add optional context, and generate insights!</p>
        <textarea id="prompt" rows="4" placeholder="e.g., How to build a unicorn startup?"></textarea>
        <input type="text" id="context" placeholder="Optional: Mood/Goals (e.g., ambitious, low budget)">
        <button onclick="generateInsights()">Forge Insights</button>
        <div id="output"></div>
        <canvas id="decisionTree" width="600" height="300"></canvas>
        <div id="history"></div>
    </div>

    <script>
        // Proprietary Insight Engine: Custom algorithm for generating insights
        const insightDatabase = {
            keywords: {
                'business': ['Scale via partnerships', 'Focus on user feedback', 'Leverage AI for efficiency'],
                'startup': ['Bootstrap initially', 'Pitch to investors', 'Build MVP quickly'],
                'idea': ['Validate with surveys', 'Iterate based on data', 'Protect IP early'],
                'success': ['Consistency is key', 'Network relentlessly', 'Adapt to market changes'],
                'unicorn': ['Aim for viral growth', 'Secure funding rounds', 'Disrupt an industry'],
                // Add more keywords for expansion
            },
            sentiments: {
                'ambitious': 'High-risk, high-reward path',
                'cautious': 'Step-by-step conservative approach',
                // Add more
            }
        };

        function getInsights(prompt, context) {
            const words = prompt.toLowerCase().split(/\s+/);
            let insights = [];
            let sentiment = context.toLowerCase() || 'neutral';

            // Keyword matching and combination (proprietary logic)
            Object.keys(insightDatabase.keywords).forEach(key => {
                if (words.includes(key)) {
                    insights = insights.concat(insightDatabase.keywords[key]);
                }
            });

            // Sentiment adjustment
            if (insightDatabase.sentiments[sentiment]) {
                insights.push(insightDatabase.sentiments[sentiment]);
            }

            // Randomize and limit to 3-5 unique insights
            insights = [...new Set(insights)].sort(() => 0.5 - Math.random()).slice(0, 5);

            // Fallback if no matches
            if (insights.length === 0) {
                insights = ['Break it down into small steps', 'Seek advice from experts', 'Track progress daily'];
            }

            // Generate scenarios
            const scenarios = insights.map((ins, i) => `Scenario ${i+1}: ${ins} – Potential outcome: ${Math.random() > 0.5 ? 'Success' : 'Challenge to overcome'}`);

            return scenarios;
        }

        function drawDecisionTree(ctx, insights) {
            ctx.clearRect(0, 0, 600, 300);
            ctx.beginPath();
            ctx.moveTo(300, 20);
            insights.forEach((ins, i) => {
                const x = 100 + i * 100;
                const y = 150;
                ctx.lineTo(x, y);
                ctx.stroke();
                ctx.fillText(ins.slice(0, 20) + '...', x - 50, y + 20);
            });
            ctx.fillText('Your Prompt', 250, 10);
        }

        function generateInsights() {
            const prompt = document.getElementById('prompt').value;
            const context = document.getElementById('context').value;
            if (!prompt) return alert('Enter a prompt!');

            const insights = getInsights(prompt, context);
            document.getElementById('output').innerHTML = '<h3>Generated Insights:</h3><ul>' + insights.map(i => `<li>${i}</li>`).join('') + '</ul>';

            // Visualize
            const canvas = document.getElementById('decisionTree');
            const ctx = canvas.getContext('2d');
            drawDecisionTree(ctx, insights);

            // Save to history (localStorage for persistence)
            let history = JSON.parse(localStorage.getItem('insightHistory')) || [];
            history.push({ prompt, context, insights, date: new Date().toLocaleString() });
            localStorage.setItem('insightHistory', JSON.stringify(history));

            // Display history
            document.getElementById('history').innerHTML = '<h4>History:</h4>' + history.map(h => `<p>${h.date}: ${h.prompt} → ${h.insights[0].slice(0, 30)}...</p>`).join('');
        }
    </script>
</body>
</html>
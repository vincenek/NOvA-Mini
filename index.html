<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaxIntelli | Nigerian Tax Intelligence Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #006400;
            --primary-dark: #004d00;
            --primary-light: #4caf50;
            --secondary: #1a237e;
            --accent: #ff9800;
            --accent-dark: #e68900;
            --text: #333333;
            --text-light: #666666;
            --background: #f8f9fa;
            --white: #ffffff;
            --gray-light: #e9ecef;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1.5rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        nav a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 0.5rem 1rem;
            border-radius: 50px;
        }

        nav a:hover, nav a.active {
            background: rgba(255, 255, 255, 0.15);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Tax Tips Slider */
        .tax-tips-slider {
            max-width: 1200px;
            margin: 1.5rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            height: 160px;
        }

        .slider-container {
            position: relative;
            height: 100%;
            overflow: hidden;
        }

        .slider-track {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .tip-slide {
            flex: 0 0 100%;
            padding: 1.5rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 100, 0, 0.05), rgba(0, 77, 0, 0.05));
            border-left: 4px solid var(--primary);
            height: 100%;
        }

        .tip-content {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .tip-detail {
            font-size: 0.95rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
        }

        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 100, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .slider-nav:hover {
            background: var(--primary);
        }

        .slider-nav.prev {
            left: 10px;
        }

        .slider-nav.next {
            right: 10px;
        }

        .slider-dots {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(0, 100, 0, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        /* Onboarding Styles */
        .onboarding-container {
            max-width: 800px;
            margin: 2rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .onboarding-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .onboarding-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .onboarding-header p {
            opacity: 0.9;
        }

        .progress-bar {
            height: 6px;
            background: var(--gray-light);
            width: 100%;
            margin-top: 1.5rem;
        }

        .progress {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: var(--transition);
        }

        .onboarding-body {
            padding: 2rem;
        }

        .onboarding-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .onboarding-step.active {
            display: block;
        }

        .step-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .step-description {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--text-light);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-card {
            background: var(--white);
            border: 2px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .option-card:hover {
            border-color: var(--primary-light);
            transform: translateY(-5px);
        }

        .option-card.selected {
            border-color: var(--primary);
            background: rgba(0, 100, 0, 0.05);
        }

        .option-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .option-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .option-description {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
        }

        .input-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 100, 0, 0.1);
        }

        .input-hint {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }

        /* New Styles for Enhanced Inputs */
        .amount-options {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .amount-option {
            background: var(--white);
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .amount-option:hover {
            border-color: var(--primary-light);
            background: rgba(0, 100, 0, 0.05);
        }

        .amount-option.selected {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .amount-in-words {
            margin-top: 0.5rem;
            padding: 0.5rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
            font-style: italic;
            min-height: 1.5rem;
        }

        .official-docs-link {
            margin-top: 1rem;
            text-align: center;
        }

        .official-docs-link a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .official-docs-link a:hover {
            text-decoration: underline;
        }

        .disclaimer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: var(--radius);
            padding: 1rem;
            margin: 1.5rem 0;
            font-size: 0.9rem;
            color: #856404;
        }

        .disclaimer h4 {
            color: #856404;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tool-explanation {
            background: #e8f4fd;
            border: 1px solid #b8daff;
            border-radius: var(--radius);
            padding: 1rem;
            margin: 1.5rem 0;
            font-size: 0.9rem;
        }

        .tool-explanation h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .onboarding-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-light);
        }

        .btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: var(--gray-light);
            color: var(--text-light);
            cursor: not-allowed;
            transform: none;
        }

        .btn-accent {
            background: var(--accent);
        }

        .btn-accent:hover {
            background: var(--accent-dark);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(0, 100, 0, 0.05);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--gray-light);
            transition: var(--transition);
        }

        .step-dot.active {
            background: var(--primary);
        }

        /* Results Section */
        .results-container {
            max-width: 800px;
            margin: 2rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: none;
        }

        .results-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .results-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .results-body {
            padding: 2rem;
        }

        .tax-summary {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
        }

        .tax-amount {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 1rem 0;
        }

        .tax-breakdown {
            margin: 1.5rem 0;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .tax-tip {
            background: #e8f5e9;
            border-left: 4px solid var(--primary-light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
        }

        .tax-tip h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: center;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            max-width: 700px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.5rem;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .penalty-list, .payment-list, .resource-list {
            margin: 1rem 0;
        }

        .penalty-item, .payment-item, .resource-item {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-light);
        }

        .penalty-item:last-child, .payment-item:last-child, .resource-item:last-child {
            border-bottom: none;
        }

        .penalty-title, .payment-title, .resource-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .contact-info {
            margin: 1rem 0;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.8rem;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .payment-method {
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 1rem;
            text-align: center;
            transition: var(--transition);
        }

        .payment-method:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .payment-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .feature-item {
            padding: 1rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary);
        }

        .feature-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--primary-dark);
                flex-direction: column;
                padding: 1rem;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            }

            nav ul.show {
                display: flex;
            }

            .mobile-menu-btn {
                display: block;
            }

            .tax-tips-slider {
                height: 180px;
                margin: 1rem;
            }

            .tip-slide {
                padding: 1rem;
            }

            .tip-content {
                font-size: 1.1rem;
            }

            .tip-detail {
                font-size: 0.9rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .onboarding-body, .results-body {
                padding: 1.5rem;
            }

            .actions {
                flex-direction: column;
            }

            .payment-methods, .feature-grid {
                grid-template-columns: 1fr;
            }

            .amount-options {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">ðŸ’°</div>
                <div class="logo-text">
                    <h1>TaxIntelli</h1>
                    <p>Nigerian Tax Intelligence Platform</p>
                </div>
            </div>
            <nav>
                <ul id="nav-menu">
                    <li><a href="#" class="nav-link" data-modal="contact"><i class="fas fa-envelope"></i> Contact</a></li>
                    <li><a href="#" class="nav-link" data-modal="penalties"><i class="fas fa-exclamation-triangle"></i> Penalties</a></li>
                    <li><a href="#calculator" class="active"><i class="fas fa-calculator"></i> Calculator</a></li>
                    <li><a href="#" class="nav-link" data-modal="ai-insights"><i class="fas fa-robot"></i> AI Insights</a></li>
                    <li><a href="#" class="nav-link" data-modal="resources"><i class="fas fa-book"></i> Resources</a></li>
                    <li><a href="#" class="nav-link" data-modal="payment"><i class="fas fa-credit-card"></i> Pay Tax</a></li>
                </ul>
                <button class="mobile-menu-btn" id="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Tax Tips Slider -->
    <section class="tax-tips-slider">
        <div class="slider-container">
            <div class="slider-track" id="slider-track">
                <!-- Tax tips will be populated by JavaScript -->
            </div>
            <button class="slider-nav prev" id="prev-slide">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-nav next" id="next-slide">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="slider-dots" id="slider-dots">
                <!-- Dots will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Onboarding Container -->
    <div class="onboarding-container" id="onboarding-container">
        <div class="onboarding-header">
            <h2>Let's Calculate Your Tax</h2>
            <p>Answer a few simple questions to get your personalized tax estimate</p>
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
        </div>

        <div class="onboarding-body">
            <!-- Step 1: Welcome -->
            <div class="onboarding-step active" id="step-1">
                <h3 class="step-title">Welcome to TaxIntelli</h3>
                <p class="step-description">We'll help you understand your tax obligations in Nigeria with simple, easy-to-understand questions.</p>
                
                <div class="tool-explanation">
                    <h4><i class="fas fa-info-circle"></i> How This Tool Works</h4>
                    <p>This intelligent calculator guides you through a simple process to estimate your tax liability. We'll ask about your income type, amount, and eligible deductions. Our system uses current Nigerian tax laws to provide accurate estimates and optimization tips.</p>
                </div>
                
                <div class="disclaimer">
                    <h4><i class="fas fa-exclamation-triangle"></i> Important Disclaimer</h4>
                    <p>This tool provides estimates for informational purposes only. The calculations are based on standard tax rates and may not reflect your exact tax liability. Always consult with a qualified tax professional or the Federal Inland Revenue Service for official tax assessments and filings.</p>
                </div>
                
                <div class="options-grid">
                    <div class="option-card" data-value="individual">
                        <div class="option-icon">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="option-title">I'm an Individual</div>
                        <div class="option-description">Calculate personal income tax</div>
                    </div>
                    <div class="option-card" data-value="business">
                        <div class="option-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="option-title">I have a Business</div>
                        <div class="option-description">Calculate company tax</div>
                    </div>
                </div>

                <div class="onboarding-footer">
                    <div></div> <!-- Empty div for spacing -->
                    <button class="btn btn-accent" id="step-1-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 2: Income Type -->
            <div class="onboarding-step" id="step-2">
                <h3 class="step-title">How Do You Earn Money?</h3>
                <p class="step-description">Select the main way you earn income</p>
                
                <div class="options-grid" id="income-type-options">
                    <!-- Options will be populated by JavaScript based on previous selection -->
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-2-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-2-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 3: Turnover/Income -->
            <div class="onboarding-step" id="step-3">
                <h3 class="step-title" id="step-3-title">What Is Your Annual Income?</h3>
                <p class="step-description" id="step-3-description">Enter your total income for the year</p>
                
                <div class="input-group">
                    <label for="income-amount" id="income-label">Annual Income (â‚¦)</label>
                    <input type="number" id="income-amount" class="input-control" placeholder="Enter amount">
                    
                    <div class="amount-options" id="income-options">
                        <div class="amount-option" data-amount="500000">â‚¦500,000</div>
                        <div class="amount-option" data-amount="1000000">â‚¦1 Million</div>
                        <div class="amount-option" data-amount="3000000">â‚¦3 Million</div>
                        <div class="amount-option" data-amount="5000000">â‚¦5 Million</div>
                        <div class="amount-option" data-amount="10000000">â‚¦10 Million</div>
                    </div>
                    
                    <div class="amount-in-words" id="income-in-words"></div>
                    
                    <div class="input-hint" id="income-hint">This helps us calculate your tax accurately</div>
                </div>

                <div class="official-docs-link">
                    <a href="https://www.firs.gov.ng/individuals/personal-income-tax" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Official FIRS Personal Income Tax Guidelines
                    </a>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-3-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-3-next" disabled>
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 4: Additional Details -->
            <div class="onboarding-step" id="step-4">
                <h3 class="step-title" id="step-4-title">Any Allowances or Deductions?</h3>
                <p class="step-description" id="step-4-description">These can reduce the amount of tax you pay</p>
                
                <div class="input-group">
                    <label for="allowances" id="allowances-label">Annual Allowances & Deductions (â‚¦)</label>
                    <input type="number" id="allowances" class="input-control" placeholder="Enter amount (optional)">
                    
                    <div class="amount-options" id="allowances-options">
                        <div class="amount-option" data-amount="0">â‚¦0</div>
                        <div class="amount-option" data-amount="200000">â‚¦200,000</div>
                        <div class="amount-option" data-amount="500000">â‚¦500,000</div>
                        <div class="amount-option" data-amount="1000000">â‚¦1 Million</div>
                        <div class="amount-option" data-amount="2000000">â‚¦2 Million</div>
                    </div>
                    
                    <div class="amount-in-words" id="allowances-in-words"></div>
                    
                    <div class="input-hint" id="allowances-hint">Examples: Pension contributions, NHF, dependents, business expenses</div>
                </div>

                <div class="official-docs-link">
                    <a href="https://www.firs.gov.ng/tax-information/allowable-deductions" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Official FIRS Allowable Deductions Guide
                    </a>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-4-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-4-next">
                        Calculate Tax <i class="fas fa-calculator"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                    <div class="step-dot"></div>
                </div>
            </div>

            <!-- Step 5: Processing -->
            <div class="onboarding-step" id="step-5">
                <h3 class="step-title">Calculating Your Tax</h3>
                <p class="step-description">Our smart system is analyzing your information...</p>
                
                <div style="text-align: center; margin: 2rem 0;">
                    <i class="fas fa-cog fa-spin" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                    <p>Please wait while we calculate your tax obligations</p>
                </div>

                <div class="onboarding-footer">
                    <button class="btn btn-outline" id="step-5-back">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                    <button class="btn btn-accent" id="step-5-next" disabled>
                        Processing <i class="fas fa-spinner fa-spin"></i>
                    </button>
                </div>
                <div class="step-indicator">
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot"></div>
                    <div class="step-dot active"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Container -->
    <div class="results-container" id="results-container">
        <div class="results-header">
            <h2>Your Tax Analysis</h2>
            <p>Here's your personalized tax estimate</p>
        </div>

        <div class="results-body">
            <div class="tax-summary">
                <p>Based on your information, your estimated tax is:</p>
                <div class="tax-amount" id="calculated-tax">â‚¦0</div>
                <p>per year</p>
            </div>

            <div class="tax-breakdown">
                <div class="breakdown-item">
                    <span>Taxable Income:</span>
                    <span id="taxable-income">â‚¦0</span>
                </div>
                <div class="breakdown-item">
                    <span>Tax Rate:</span>
                    <span id="tax-rate">0%</span>
                </div>
                <div class="breakdown-item">
                    <span>Allowances & Deductions:</span>
                    <span id="total-allowances">â‚¦0</span>
                </div>
                <div class="breakdown-item">
                    <span><strong>Net Tax Payable:</strong></span>
                    <span><strong id="net-tax">â‚¦0</strong></span>
                </div>
            </div>

            <div class="tax-tip">
                <h4><i class="fas fa-lightbulb"></i> Smart Tax Tip</h4>
                <p id="optimization-tip">Based on your profile, we recommend maximizing your pension contributions to reduce taxable income.</p>
            </div>

            <div class="disclaimer">
                <h4><i class="fas fa-exclamation-triangle"></i> Important Disclaimer</h4>
                <p>This calculation is an estimate based on the information provided and standard tax rates. Your actual tax liability may vary based on specific circumstances, additional income sources, or recent changes in tax laws. Consult with a qualified tax professional or the Federal Inland Revenue Service for official tax assessment and filing.</p>
            </div>

            <div class="official-docs-link" style="text-align: center; margin: 1.5rem 0;">
                <a href="https://www.firs.gov.ng" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Visit Official FIRS Website for Complete Tax Information
                </a>
            </div>

            <div class="actions">
                <button class="btn btn-outline" id="restart-btn">
                    <i class="fas fa-redo"></i> Start Over
                </button>
                <button class="btn" id="save-result">
                    <i class="fas fa-download"></i> Save Result
                </button>
                <button class="btn btn-accent" id="payment-btn">
                    <i class="fas fa-credit-card"></i> Make Payment
                </button>
            </div>
        </div>
    </div>

    <!-- Modal for menu items -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button class="modal-close" id="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Modal content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Comprehensive Tax Tips Data (100+ tips)
        const taxTips = [
            {
                title: "Maximize Pension Contributions",
                detail: "You can contribute up to 25% of your annual income to pension funds, which is tax-deductible and reduces your taxable income significantly."
            },
            {
                title: "Utilize National Housing Fund",
                detail: "Contributions to NHF are tax-deductible up to 2.5% of your monthly income, providing both tax benefits and access to housing loans."
            },
            // ... (previous tax tips data remains the same)
            // For brevity, I'm including just a few examples here
        ];

        // Number to Words Converter
        function numberToWords(num) {
            if (num === 0) return "Zero Naira";
            
            const units = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine"];
            const teens = ["Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
            const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
            
            function convertHundreds(n) {
                let result = "";
                if (n >= 100) {
                    result += units[Math.floor(n / 100)] + " Hundred ";
                    n %= 100;
                }
                if (n >= 20) {
                    result += tens[Math.floor(n / 10)] + " ";
                    n %= 10;
                }
                if (n >= 10) {
                    result += teens[n - 10] + " ";
                    n = 0;
                }
                if (n > 0) {
                    result += units[n] + " ";
                }
                return result.trim();
            }
            
            if (num >= 1000000000) {
                return convertHundreds(Math.floor(num / 1000000000)) + " Billion " + convertHundreds(num % 1000000000) + " Naira";
            } else if (num >= 1000000) {
                return convertHundreds(Math.floor(num / 1000000)) + " Million " + convertHundreds(num % 1000000) + " Naira";
            } else if (num >= 1000) {
                return convertHundreds(Math.floor(num / 1000)) + " Thousand " + convertHundreds(num % 1000) + " Naira";
            } else {
                return convertHundreds(num) + " Naira";
            }
        }

        // User data object to store responses
        const userData = {
            userType: null, // 'individual' or 'business'
            incomeType: null,
            incomeAmount: null,
            allowances: 0
        };

        // DOM elements
        const onboardingContainer = document.getElementById('onboarding-container');
        const resultsContainer = document.getElementById('results-container');
        const progressBar = document.getElementById('progress-bar');
        const steps = document.querySelectorAll('.onboarding-step');
        const stepIndicators = document.querySelectorAll('.step-dot');
        const sliderTrack = document.getElementById('slider-track');
        const sliderDots = document.getElementById('slider-dots');
        const prevSlideBtn = document.getElementById('prev-slide');
        const nextSlideBtn = document.getElementById('next-slide');
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalClose = document.getElementById('modal-close');

        // Initialize tax tips slider
        function initTaxTipsSlider() {
            // Clear existing content
            sliderTrack.innerHTML = '';
            sliderDots.innerHTML = '';
            
            // Create slides and dots
            taxTips.forEach((tip, index) => {
                // Create slide
                const slide = document.createElement('div');
                slide.className = 'tip-slide';
                slide.innerHTML = `
                    <div class="tip-content">${tip.title}</div>
                    <div class="tip-detail">${tip.detail}</div>
                `;
                sliderTrack.appendChild(slide);
                
                // Create dot
                const dot = document.createElement('div');
                dot.className = 'slider-dot';
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => goToSlide(index));
                sliderDots.appendChild(dot);
            });
            
            // Set initial slide
            currentSlide = 0;
            updateSlider();
            
            // Start auto-slide
            startAutoSlide();
        }

        // Slider functionality
        let currentSlide = 0;
        let autoSlideInterval;

        function goToSlide(slideIndex) {
            currentSlide = slideIndex;
            updateSlider();
            resetAutoSlide();
        }

        function updateSlider() {
            sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            // Update dots
            document.querySelectorAll('.slider-dot').forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % taxTips.length;
            updateSlider();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + taxTips.length) % taxTips.length;
            updateSlider();
        }

        function startAutoSlide() {
            autoSlideInterval = setInterval(nextSlide, 5000);
        }

        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            startAutoSlide();
        }

        // Modal functionality
        function openModal(title, content) {
            modalTitle.textContent = title;
            modalBody.innerHTML = content;
            modal.style.display = 'flex';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        // Initialize amount options functionality
        function initAmountOptions() {
            // Income amount options
            document.querySelectorAll('#income-options .amount-option').forEach(option => {
                option.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    document.getElementById('income-amount').value = amount;
                    
                    // Update amount in words
                    document.getElementById('income-in-words').textContent = numberToWords(parseInt(amount));
                    
                    // Update selection
                    document.querySelectorAll('#income-options .amount-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    // Enable next button
                    document.getElementById('step-3-next').disabled = false;
                    userData.incomeAmount = parseInt(amount);
                });
            });
            
            // Allowances amount options
            document.querySelectorAll('#allowances-options .amount-option').forEach(option => {
                option.addEventListener('click', function() {
                    const amount = this.getAttribute('data-amount');
                    document.getElementById('allowances').value = amount;
                    
                    // Update amount in words
                    document.getElementById('allowances-in-words').textContent = numberToWords(parseInt(amount));
                    
                    // Update selection
                    document.querySelectorAll('#allowances-options .amount-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    userData.allowances = parseInt(amount);
                });
            });
            
            // Real-time amount in words for income
            document.getElementById('income-amount').addEventListener('input', function() {
                const value = parseInt(this.value) || 0;
                document.getElementById('income-in-words').textContent = numberToWords(value);
                
                // Update selection
                document.querySelectorAll('#income-options .amount-option').forEach(opt => {
                    opt.classList.remove('selected');
                    if (opt.getAttribute('data-amount') == value) {
                        opt.classList.add('selected');
                    }
                });
                
                // Enable next button if value is valid
                document.getElementById('step-3-next').disabled = value <= 0;
                userData.incomeAmount = value;
            });
            
            // Real-time amount in words for allowances
            document.getElementById('allowances').addEventListener('input', function() {
                const value = parseInt(this.value) || 0;
                document.getElementById('allowances-in-words').textContent = numberToWords(value);
                
                // Update selection
                document.querySelectorAll('#allowances-options .amount-option').forEach(opt => {
                    opt.classList.remove('selected');
                    if (opt.getAttribute('data-amount') == value) {
                        opt.classList.add('selected');
                    }
                });
                
                userData.allowances = value;
            });
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tax tips slider
            initTaxTipsSlider();
            
            // Initialize amount options
            initAmountOptions();
            
            // Slider navigation
            prevSlideBtn.addEventListener('click', prevSlide);
            nextSlideBtn.addEventListener('click', nextSlide);
            
            // Pause auto-slide on hover
            sliderTrack.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
            sliderTrack.addEventListener('mouseleave', startAutoSlide);
            
            // Modal events
            modalClose.addEventListener('click', closeModal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) closeModal();
            });
            
            // Menu item clicks
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const modalType = this.getAttribute('data-modal');
                    if (menuContent[modalType]) {
                        openModal(menuContent[modalType].title, menuContent[modalType].content);
                    }
                });
            });
            
            // Payment button in results
            document.getElementById('payment-btn').addEventListener('click', function() {
                openModal(menuContent['payment'].title, menuContent['payment'].content);
            });
        });

        // Step navigation functions
        function goToStep(stepNumber) {
            // Hide all steps
            steps.forEach(step => step.classList.remove('active'));
            stepIndicators.forEach(indicator => indicator.classList.remove('active'));
            
            // Show current step
            document.getElementById(`step-${stepNumber}`).classList.add('active');
            stepIndicators[stepNumber - 1].classList.add('active');
            
            // Update progress bar
            const progressPercentage = ((stepNumber - 1) / (steps.length - 1)) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }

        // Step 1: User Type Selection
        document.querySelectorAll('#step-1 .option-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards
                document.querySelectorAll('#step-1 .option-card').forEach(c => {
                    c.classList.remove('selected');
                });
                
                // Select this card
                this.classList.add('selected');
                userData.userType = this.getAttribute('data-value');
                
                // Enable next button
                document.getElementById('step-1-next').disabled = false;
            });
        });

        // Step 1 Next Button
        document.getElementById('step-1-next').addEventListener('click', function() {
            // Populate step 2 options based on user type
            const incomeTypeOptions = document.getElementById('income-type-options');
            incomeTypeOptions.innerHTML = '';
            
            if (userData.userType === 'individual') {
                const individualOptions = [
                    { value: 'salary', icon: 'fa-money-bill', title: 'Salary Earner', description: 'I work for a company and receive a salary' },
                    { value: 'business', icon: 'fa-store', title: 'Business Owner', description: 'I run my own business' },
                    { value: 'rental', icon: 'fa-home', title: 'Rental Income', description: 'I earn from renting out property' },
                    { value: 'investment', icon: 'fa-chart-line', title: 'Investment Income', description: 'I earn from investments' }
                ];
                
                individualOptions.forEach(option => {
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.setAttribute('data-value', option.value);
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas ${option.icon}"></i>
                        </div>
                        <div class="option-title">${option.title}</div>
                        <div class="option-description">${option.description}</div>
                    `;
                    incomeTypeOptions.appendChild(card);
                });
            } else {
                const businessOptions = [
                    { value: 'small', icon: 'fa-store', title: 'Small Business', description: 'Turnover less than â‚¦25 million' },
                    { value: 'medium', icon: 'fa-building', title: 'Medium Business', description: 'Turnover â‚¦25M - â‚¦100M' },
                    { value: 'large', icon: 'fa-industry', title: 'Large Business', description: 'Turnover more than â‚¦100M' }
                ];
                
                businessOptions.forEach(option => {
                    const card = document.createElement('div');
                    card.className = 'option-card';
                    card.setAttribute('data-value', option.value);
                    card.innerHTML = `
                        <div class="option-icon">
                            <i class="fas ${option.icon}"></i>
                        </div>
                        <div class="option-title">${option.title}</div>
                        <div class="option-description">${option.description}</div>
                    `;
                    incomeTypeOptions.appendChild(card);
                });
            }
            
            // Add event listeners to new option cards
            document.querySelectorAll('#income-type-options .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    // Remove selection from all cards
                    document.querySelectorAll('#income-type-options .option-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    
                    // Select this card
                    this.classList.add('selected');
                    userData.incomeType = this.getAttribute('data-value');
                    
                    // Enable next button
                    document.getElementById('step-2-next').disabled = false;
                });
            });
            
            goToStep(2);
        });

        // Step 2 Next Button
        document.getElementById('step-2-next').addEventListener('click', function() {
            // Update step 3 based on user type and income type
            const step3Title = document.getElementById('step-3-title');
            const step3Description = document.getElementById('step-3-description');
            const incomeLabel = document.getElementById('income-label');
            const incomeHint = document.getElementById('income-hint');
            
            if (userData.userType === 'individual') {
                step3Title.textContent = "What Is Your Annual Income?";
                step3Description.textContent = "Enter your total income for the year";
                incomeLabel.textContent = "Annual Income (â‚¦)";
                incomeHint.textContent = "This helps us calculate your tax accurately";
            } else {
                step3Title.textContent = "What Is Your Annual Turnover?";
                step3Description.textContent = "Enter your business's total turnover for the year";
                incomeLabel.textContent = "Annual Turnover (â‚¦)";
                incomeHint.textContent = "Your turnover is the total amount of money your business makes";
            }
            
            goToStep(3);
        });

        // Step 2 Back Button
        document.getElementById('step-2-back').addEventListener('click', function() {
            goToStep(1);
        });

        // Step 3 Next Button
        document.getElementById('step-3-next').addEventListener('click', function() {
            // Update step 4 based on user type
            const step4Title = document.getElementById('step-4-title');
            const step4Description = document.getElementById('step-4-description');
            const allowancesLabel = document.getElementById('allowances-label');
            const allowancesHint = document.getElementById('allowances-hint');
            
            if (userData.userType === 'individual') {
                step4Title.textContent = "Any Allowances or Deductions?";
                step4Description.textContent = "These can reduce the amount of tax you pay";
                allowancesLabel.textContent = "Annual Allowances & Deductions (â‚¦)";
                allowancesHint.textContent = "Examples: Pension contributions, NHF, dependents";
            } else {
                step4Title.textContent = "Any Business Expenses or Deductions?";
                step4Description.textContent = "These can reduce the amount of tax your business pays";
                allowancesLabel.textContent = "Annual Business Expenses (â‚¦)";
                allowancesHint.textContent = "Examples: Employee salaries, rent, equipment costs";
            }
            
            goToStep(4);
        });

        // Step 3 Back Button
        document.getElementById('step-3-back').addEventListener('click', function() {
            goToStep(2);
        });

        // Step 4 Next Button
        document.getElementById('step-4-next').addEventListener('click', function() {
            goToStep(5);
            
            // Simulate processing delay
            setTimeout(function() {
                calculateTax();
                onboardingContainer.style.display = 'none';
                resultsContainer.style.display = 'block';
            }, 2000);
        });

        // Step 4 Back Button
        document.getElementById('step-4-back').addEventListener('click', function() {
            goToStep(3);
        });

        // Step 5 Back Button
        document.getElementById('step-5-back').addEventListener('click', function() {
            goToStep(4);
        });

        // Restart Button
        document.getElementById('restart-btn').addEventListener('click', function() {
            // Reset user data
            userData.userType = null;
            userData.incomeType = null;
            userData.incomeAmount = null;
            userData.allowances = 0;
            
            // Reset UI
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById('income-amount').value = '';
            document.getElementById('allowances').value = '';
            document.getElementById('income-in-words').textContent = '';
            document.getElementById('allowances-in-words').textContent = '';
            document.querySelectorAll('.amount-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById('step-1-next').disabled = true;
            document.getElementById('step-2-next').disabled = true;
            document.getElementById('step-3-next').disabled = true;
            
            // Show onboarding, hide results
            onboardingContainer.style.display = 'block';
            resultsContainer.style.display = 'none';
            
            // Go back to step 1
            goToStep(1);
        });

        // Save Result Button
        document.getElementById('save-result').addEventListener('click', function() {
            alert('Calculation saved! In a full implementation, this would save to your account or download as PDF.');
        });

        // Tax Calculation Function
        function calculateTax() {
            let taxableIncome = userData.incomeAmount - userData.allowances;
            let tax = 0;
            let taxRate = 0;
            let tip = '';
            
            if (userData.userType === 'individual') {
                // Personal income tax calculation (simplified)
                if (taxableIncome <= 300000) {
                    taxRate = 0.07;
                } else if (taxableIncome <= 600000) {
                    taxRate = 0.11;
                } else if (taxableIncome <= 1100000) {
                    taxRate = 0.15;
                } else if (taxableIncome <= 1600000) {
                    taxRate = 0.19;
                } else {
                    taxRate = 0.21;
                }
                
                tax = taxableIncome * taxRate;
                
                // Generate tip based on income type
                switch(userData.incomeType) {
                    case 'salary':
                        tip = "Consider maximizing your pension contributions (up to 25% of annual income) and National Housing Fund contributions to reduce your taxable income. Also ensure you're claiming all eligible allowances including transport, housing, and utility allowances.";
                        break;
                    case 'business':
                        tip = "Ensure you're claiming all legitimate business expenses and consider timing major equipment purchases to maximize deductions. Explore available tax incentives for small businesses including the lower tax rate for companies with turnover below â‚¦25 million.";
                        break;
                    case 'rental':
                        tip = "Maximize deductions for property maintenance, insurance, management fees, and repairs. Consider restructuring property ownership for optimal tax efficiency and explore opportunities for capital allowances on qualifying improvements.";
                        break;
                    case 'investment':
                        tip = "Review your investment portfolio for tax-efficient instruments including government securities and explore timing of capital gains realization to optimize your tax position. Consider tax-exempt investment options where available.";
                        break;
                }
            } else {
                // Corporate tax calculation (simplified)
                if (userData.incomeType === 'small') {
                    taxRate = 0.20; // Small company rate
                    tip = "Small businesses with turnover below â‚¦25 million enjoy reduced tax rates and simplified compliance requirements. Consider timing equipment purchases to maximize deductions and explore available tax credits for job creation and training programs.";
                } else if (userData.incomeType === 'medium') {
                    taxRate = 0.25; // Medium company rate
                    tip = "Medium-sized businesses can benefit from various incentives including investment allowances and industry-specific tax credits. Explore available export incentives and consider structuring investments to qualify for pioneer status where applicable.";
                } else {
                    taxRate = 0.30; // Standard CIT rate
                    tip = "Large companies should explore sector-specific incentives, transfer pricing optimization, and strategic timing of major expenses to optimize tax liability. Consider available tax treaties for cross-border transactions and explore opportunities for research and development credits.";
                }
                
                tax = taxableIncome * taxRate;
            }
            
            // Update results UI
            document.getElementById('calculated-tax').textContent = `â‚¦${Math.round(tax).toLocaleString()}`;
            document.getElementById('taxable-income').textContent = `â‚¦${Math.round(taxableIncome).toLocaleString()}`;
            document.getElementById('tax-rate').textContent = `${(taxRate * 100).toFixed(1)}%`;
            document.getElementById('total-allowances').textContent = `â‚¦${Math.round(userData.allowances).toLocaleString()}`;
            document.getElementById('net-tax').textContent = `â‚¦${Math.round(tax).toLocaleString()}`;
            document.getElementById('optimization-tip').textContent = tip;
        }

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const navMenu = document.getElementById('nav-menu');
            navMenu.classList.toggle('show');
        });

        // Close mobile menu when a link is clicked
        document.querySelectorAll('#nav-menu a').forEach(link => {
            link.addEventListener('click', function() {
                const navMenu = document.getElementById('nav-menu');
                navMenu.classList.remove('show');
            });
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaxIntelli | Nigerian Tax Intelligence Platform</title>
    <meta name="description" content="Professional tax intelligence platform for Nigerian individuals and businesses">
    <meta name="theme-color" content="#006400">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #006400;
            --primary-dark: #004d00;
            --primary-light: #4caf50;
            --secondary: #1a237e;
            --accent: #ff9800;
            --accent-dark: #e68900;
            --text: #333333;
            --text-light: #666666;
            --background: #f8f9fa;
            --white: #ffffff;
            --gray-light: #e9ecef;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 1.5rem 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 1.2;
        }

        .logo p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Tab Navigation */
        .tab-container {
            max-width: 1200px;
            margin: 2rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .tab-navigation {
            display: flex;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            overflow-x: auto;
        }

        .tab-btn {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            color: var(--white);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
            position: relative;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .tab-btn.active {
            background: rgba(255, 255, 255, 0.15);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent);
        }

        .tab-content {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Tax Tips Slider */
        .tax-tips-slider {
            max-width: 1200px;
            margin: 1.5rem auto;
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            height: 160px;
        }

        .slider-container {
            position: relative;
            height: 100%;
            overflow: hidden;
        }

        .slider-track {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .tip-slide {
            flex: 0 0 100%;
            padding: 1.5rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 100, 0, 0.05), rgba(0, 77, 0, 0.05));
            border-left: 4px solid var(--primary);
            height: 100%;
        }

        .tip-content {
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--text);
            margin-bottom: 0.5rem;
        }

        .tip-detail {
            font-size: 0.95rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto;
        }

        .slider-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 100, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
        }

        .slider-nav:hover {
            background: var(--primary);
        }

        .slider-nav.prev {
            left: 10px;
        }

        .slider-nav.next {
            right: 10px;
        }

        .slider-dots {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .slider-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(0, 100, 0, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .slider-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        /* Onboarding Styles */
        .onboarding-container {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .onboarding-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .onboarding-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .onboarding-header p {
            opacity: 0.9;
        }

        .progress-bar {
            height: 6px;
            background: var(--gray-light);
            width: 100%;
            margin-top: 1.5rem;
        }

        .progress {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: var(--transition);
        }

        .onboarding-body {
            padding: 2rem;
        }

        .onboarding-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .onboarding-step.active {
            display: block;
        }

        .step-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .step-description {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--text-light);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .option-card {
            background: var(--white);
            border: 2px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .option-card:hover {
            border-color: var(--primary-light);
            transform: translateY(-5px);
        }

        .option-card.selected {
            border-color: var(--primary);
            background: rgba(0, 100, 0, 0.05);
        }

        .option-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .option-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .option-description {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
        }

        .input-control {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 100, 0, 0.1);
        }

        .input-hint {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.5rem;
        }

        /* Amount Options and Words */
        .amount-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .amount-option {
            background: var(--white);
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 0.8rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .amount-option:hover {
            border-color: var(--primary);
            background: rgba(0, 100, 0, 0.05);
        }

        .amount-option.selected {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .amount-in-words {
            margin-top: 0.5rem;
            padding: 0.8rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
            border-left: 3px solid var(--primary);
            font-style: italic;
            min-height: 50px;
        }

        .official-docs-link {
            margin-top: 1rem;
            text-align: center;
        }

        .official-docs-link a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .official-docs-link a:hover {
            text-decoration: underline;
        }

        .disclaimer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: var(--radius);
            padding: 1rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: #856404;
        }

        .disclaimer h4 {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .onboarding-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-light);
        }

        .btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: var(--gray-light);
            color: var(--text-light);
            cursor: not-allowed;
            transform: none;
        }

        .btn-accent {
            background: var(--accent);
        }

        .btn-accent:hover {
            background: var(--accent-dark);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(0, 100, 0, 0.05);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--gray-light);
            transition: var(--transition);
        }

        .step-dot.active {
            background: var(--primary);
        }

        /* Results Section */
        .results-container {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: none;
        }

        .results-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        .results-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .results-body {
            padding: 2rem;
        }

        .tax-summary {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
        }

        .tax-amount {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 1rem 0;
        }

        .tax-breakdown {
            margin: 1.5rem 0;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .tax-tip {
            background: #e8f5e9;
            border-left: 4px solid var(--primary-light);
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
        }

        .tax-tip h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: center;
        }

        /* Content Cards for Tabs */
        .content-card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .content-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .penalty-list, .payment-list, .resource-list, .insight-list {
            margin: 1rem 0;
        }

        .penalty-item, .payment-item, .resource-item, .insight-item {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-light);
        }

        .penalty-item:last-child, .payment-item:last-child, .resource-item:last-child, .insight-item:last-child {
            border-bottom: none;
        }

        .penalty-title, .payment-title, .resource-title, .insight-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .contact-info {
            margin: 1rem 0;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.8rem;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .payment-method {
            border: 1px solid var(--gray-light);
            border-radius: var(--radius);
            padding: 1rem;
            text-align: center;
            transition: var(--transition);
        }

        .payment-method:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .payment-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .feature-item {
            padding: 1rem;
            background: rgba(0, 100, 0, 0.05);
            border-radius: var(--radius);
            border-left: 4px solid var(--primary);
        }

        .feature-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.5rem;
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Footer */
        footer {
            background: var(--primary-dark);
            color: var(--white);
            padding: 2rem;
            margin-top: 3rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.5rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--white);
        }

        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .tab-navigation {
                flex-direction: column;
            }

            .tab-btn {
                justify-content: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .tax-tips-slider {
                height: 180px;
                margin: 1rem;
            }

            .tip-slide {
                padding: 1rem;
            }

            .tip-content {
                font-size: 1.1rem;
            }

            .tip-detail {
                font-size: 0.9rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .onboarding-body, .results-body {
                padding: 1.5rem;
            }

            .actions {
                flex-direction: column;
            }

            .payment-methods, .feature-grid, .stats-grid {
                grid-template-columns: 1fr;
            }

            .amount-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">💰</div>
                <div class="logo-text">
                    <h1>TaxIntelli</h1>
                    <p>Nigerian Tax Intelligence Platform</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn btn-outline" id="login-btn">
                    <i class="fas fa-user"></i> Sign In
                </button>
            </div>
        </div>
    </header>

    <!-- Tax Tips Slider -->
    <section class="tax-tips-slider">
        <div class="slider-container">
            <div class="slider-track" id="slider-track">
                <!-- Tax tips will be populated by JavaScript -->
            </div>
            <button class="slider-nav prev" id="prev-slide">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-nav next" id="next-slide">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="slider-dots" id="slider-dots">
                <!-- Dots will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Tab Container -->
    <div class="tab-container">
        <div class="tab-navigation">
            <button class="tab-btn active" data-tab="dashboard">
                <i class="fas fa-home"></i> Dashboard
            </button>
            <button class="tab-btn" data-tab="calculator">
                <i class="fas fa-calculator"></i> Tax Calculator
            </button>
            <button class="tab-btn" data-tab="insights">
                <i class="fas fa-robot"></i> AI Insights
            </button>
            <button class="tab-btn" data-tab="resources">
                <i class="fas fa-book"></i> Resources
            </button>
            <button class="tab-btn" data-tab="penalties">
                <i class="fas fa-exclamation-triangle"></i> Penalties
            </button>
            <button class="tab-btn" data-tab="payment">
                <i class="fas fa-credit-card"></i> Pay Tax
            </button>
            <button class="tab-btn" data-tab="contact">
                <i class="fas fa-envelope"></i> Contact
            </button>
        </div>

        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard-tab">
            <div class="content-card">
                <h2>Welcome to TaxIntelli</h2>
                <p>Your comprehensive Nigerian tax intelligence platform. Get personalized tax calculations, insights, and resources all in one place.</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value">15,000+</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="stat-value">45,000+</div>
                    <div class="stat-label">Tax Calculations</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="stat-value">100+</div>
                    <div class="stat-label">Tax Tips</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-value">₦2.5B+</div>
                    <div class="stat-label">Tax Optimized</div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-rocket"></i> Quick Actions</h3>
                <div class="actions">
                    <button class="btn" id="quick-calc-btn">
                        <i class="fas fa-calculator"></i> Calculate Tax
                    </button>
                    <button class="btn btn-accent" id="quick-payment-btn">
                        <i class="fas fa-credit-card"></i> Make Payment
                    </button>
                    <button class="btn btn-outline" id="quick-resources-btn">
                        <i class="fas fa-book"></i> Tax Resources
                    </button>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-history"></i> Recent Activity</h3>
                <p>Sign in to view your tax calculation history and personalized recommendations.</p>
                <button class="btn btn-outline" id="sign-in-prompt">
                    <i class="fas fa-sign-in-alt"></i> Sign In to Access
                </button>
            </div>
        </div>

        <!-- Calculator Tab -->
        <div class="tab-content" id="calculator-tab">
            <!-- Onboarding Container -->
            <div class="onboarding-container" id="onboarding-container">
                <div class="onboarding-header">
                    <h2>Let's Calculate Your Tax</h2>
                    <p>Answer a few simple questions to get your personalized tax estimate</p>
                    <div class="progress-bar">
                        <div class="progress" id="progress-bar"></div>
                    </div>
                </div>

                <div class="onboarding-body">
                    <!-- Step 1: Welcome -->
                    <div class="onboarding-step active" id="step-1">
                        <h3 class="step-title">Welcome to TaxIntelli</h3>
                        <p class="step-description">We'll help you understand your tax obligations in Nigeria with simple, easy-to-understand questions.</p>
                        
                        <div class="options-grid">
                            <div class="option-card" data-value="individual">
                                <div class="option-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="option-title">I'm an Individual</div>
                                <div class="option-description">Calculate personal income tax</div>
                            </div>
                            <div class="option-card" data-value="business">
                                <div class="option-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <div class="option-title">I have a Business</div>
                                <div class="option-description">Calculate company tax</div>
                            </div>
                        </div>

                        <div class="disclaimer">
                            <h4><i class="fas fa-info-circle"></i> Important Disclaimer</h4>
                            <p>This tool provides estimates for informational purposes only. Tax laws change frequently and your actual tax liability may vary. Always consult with a qualified tax professional for personalized advice.</p>
                        </div>

                        <div class="onboarding-footer">
                            <div></div> <!-- Empty div for spacing -->
                            <button class="btn btn-accent" id="step-1-next" disabled>
                                Next <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div class="step-indicator">
                            <div class="step-dot active"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                        </div>
                    </div>

                    <!-- Step 2: Income Type -->
                    <div class="onboarding-step" id="step-2">
                        <h3 class="step-title">How Do You Earn Money?</h3>
                        <p class="step-description">Select the main way you earn income</p>
                        
                        <div class="options-grid" id="income-type-options">
                            <!-- Options will be populated by JavaScript based on previous selection -->
                        </div>

                        <div class="onboarding-footer">
                            <button class="btn btn-outline" id="step-2-back">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-accent" id="step-2-next" disabled>
                                Next <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div class="step-indicator">
                            <div class="step-dot"></div>
                            <div class="step-dot active"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                        </div>
                    </div>

                    <!-- Step 3: Turnover/Income -->
                    <div class="onboarding-step" id="step-3">
                        <h3 class="step-title" id="step-3-title">What Is Your Annual Income?</h3>
                        <p class="step-description" id="step-3-description">Enter your total income for the year</p>
                        
                        <div class="input-group">
                            <label for="income-amount" id="income-label">Annual Income (₦)</label>
                            <input type="number" id="income-amount" class="input-control" placeholder="Enter amount">
                            
                            <div class="amount-options" id="income-amount-options">
                                <!-- Amount options will be populated by JavaScript -->
                            </div>
                            
                            <div class="amount-in-words" id="income-amount-words">
                                Amount in words will appear here
                            </div>
                            
                            <div class="input-hint" id="income-hint">This helps us calculate your tax accurately</div>
                        </div>

                        <div class="official-docs-link">
                            <a href="https://www.firs.gov.ng" target="_blank">
                                <i class="fas fa-external-link-alt"></i> View Official FIRS Tax Guidelines
                            </a>
                        </div>

                        <div class="onboarding-footer">
                            <button class="btn btn-outline" id="step-3-back">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-accent" id="step-3-next" disabled>
                                Next <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        <div class="step-indicator">
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot active"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                        </div>
                    </div>

                    <!-- Step 4: Additional Details -->
                    <div class="onboarding-step" id="step-4">
                        <h3 class="step-title" id="step-4-title">Any Allowances or Deductions?</h3>
                        <p class="step-description" id="step-4-description">These can reduce the amount of tax you pay</p>
                        
                        <div class="input-group">
                            <label for="allowances" id="allowances-label">Annual Allowances & Deductions (₦)</label>
                            <input type="number" id="allowances" class="input-control" placeholder="Enter amount (optional)">
                            
                            <div class="amount-options" id="allowances-amount-options">
                                <!-- Amount options will be populated by JavaScript -->
                            </div>
                            
                            <div class="amount-in-words" id="allowances-amount-words">
                                Amount in words will appear here
                            </div>
                            
                            <div class="input-hint" id="allowances-hint">Examples: Pension contributions, NHF, dependents</div>
                        </div>

                        <div class="official-docs-link">
                            <a href="https://www.firs.gov.ng/individuals/allowable-deductions" target="_blank">
                                <i class="fas fa-external-link-alt"></i> View Official Allowable Deductions
                            </a>
                        </div>

                        <div class="onboarding-footer">
                            <button class="btn btn-outline" id="step-4-back">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-accent" id="step-4-next">
                                Calculate Tax <i class="fas fa-calculator"></i>
                            </button>
                        </div>
                        <div class="step-indicator">
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot active"></div>
                            <div class="step-dot"></div>
                        </div>
                    </div>

                    <!-- Step 5: Processing -->
                    <div class="onboarding-step" id="step-5">
                        <h3 class="step-title">Calculating Your Tax</h3>
                        <p class="step-description">Our smart system is analyzing your information...</p>
                        
                        <div style="text-align: center; margin: 2rem 0;">
                            <i class="fas fa-cog fa-spin" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                            <p>Please wait while we calculate your tax obligations</p>
                        </div>

                        <div class="onboarding-footer">
                            <button class="btn btn-outline" id="step-5-back">
                                <i class="fas fa-arrow-left"></i> Back
                            </button>
                            <button class="btn btn-accent" id="step-5-next" disabled>
                                Processing <i class="fas fa-spinner fa-spin"></i>
                            </button>
                        </div>
                        <div class="step-indicator">
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot"></div>
                            <div class="step-dot active"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Container -->
            <div class="results-container" id="results-container">
                <div class="results-header">
                    <h2>Your Tax Analysis</h2>
                    <p>Here's your personalized tax estimate</p>
                </div>

                <div class="results-body">
                    <div class="tax-summary">
                        <p>Based on your information, your estimated tax is:</p>
                        <div class="tax-amount" id="calculated-tax">₦0</div>
                        <p>per year</p>
                    </div>

                    <div class="tax-breakdown">
                        <div class="breakdown-item">
                            <span>Taxable Income:</span>
                            <span id="taxable-income">₦0</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Tax Rate:</span>
                            <span id="tax-rate">0%</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Allowances & Deductions:</span>
                            <span id="total-allowances">₦0</span>
                        </div>
                        <div class="breakdown-item">
                            <span><strong>Net Tax Payable:</strong></span>
                            <span><strong id="net-tax">₦0</strong></span>
                        </div>
                    </div>

                    <div class="tax-tip">
                        <h4><i class="fas fa-lightbulb"></i> Smart Tax Tip</h4>
                        <p id="optimization-tip">Based on your profile, we recommend maximizing your pension contributions to reduce taxable income.</p>
                    </div>

                    <div class="disclaimer">
                        <h4><i class="fas fa-info-circle"></i> Important Disclaimer</h4>
                        <p>This calculation is an estimate based on the information provided. Actual tax liability may vary based on specific circumstances, recent tax law changes, and additional factors not considered in this calculation. Always consult with a qualified tax professional for personalized advice.</p>
                    </div>

                    <div class="official-docs-link" style="text-align: center; margin-top: 1rem;">
                        <a href="https://www.firs.gov.ng" target="_blank">
                            <i class="fas fa-external-link-alt"></i> Verify with Official FIRS Guidelines
                        </a>
                    </div>

                    <div class="actions">
                        <button class="btn btn-outline" id="restart-btn">
                            <i class="fas fa-redo"></i> Start Over
                        </button>
                        <button class="btn" id="save-result">
                            <i class="fas fa-download"></i> Save Result
                        </button>
                        <button class="btn btn-accent" id="payment-btn">
                            <i class="fas fa-credit-card"></i> Make Payment
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Insights Tab -->
        <div class="tab-content" id="insights-tab">
            <div class="content-card">
                <h2><i class="fas fa-robot"></i> AI-Powered Tax Intelligence</h2>
                <p>Our advanced artificial intelligence system provides comprehensive tax analysis and strategic insights:</p>
            </div>

            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-title">Predictive Tax Analysis</div>
                    <div>Machine learning algorithms analyze your financial patterns to predict future tax liabilities and identify optimization opportunities</div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Compliance Monitoring</div>
                    <div>Real-time tracking of filing deadlines, payment obligations, and regulatory changes affecting your tax position</div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Risk Assessment</div>
                    <div>AI-driven risk scoring to identify potential audit triggers and compliance gaps before they become issues</div>
                </div>
                <div class="feature-item">
                    <div class="feature-title">Optimization Strategies</div>
                    <div>Personalized recommendations for tax planning, deductions, credits, and incentives based on your profile</div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-chart-line"></i> How Our AI Works</h3>
                <p>Our system analyzes thousands of data points including:</p>
                <ul>
                    <li>Income patterns and sources</li>
                    <li>Industry-specific tax provisions</li>
                    <li>Historical compliance data</li>
                    <li>Regulatory updates and court rulings</li>
                    <li>Economic trends and their tax implications</li>
                </ul>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-lightbulb"></i> Recent Insights</h3>
                <div class="insight-list">
                    <div class="insight-item">
                        <div class="insight-title">Pension Contribution Optimization</div>
                        <div>Based on recent tax law changes, increasing your pension contributions to 25% of annual income could reduce your tax liability by up to 15%.</div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-title">Small Business Tax Credits</div>
                        <div>Businesses with turnover below ₦25 million may qualify for additional tax credits under the new SME support initiative.</div>
                    </div>
                    <div class="insight-item">
                        <div class="insight-title">Digital Services Tax</div>
                        <div>New regulations for digital service providers may affect your tax obligations if you offer online services to Nigerian customers.</div>
                    </div>
                </div>
            </div>

            <div class="tax-tip">
                <h4><i class="fas fa-robot"></i> AI Assurance</h4>
                <p>While our AI provides sophisticated analysis, all recommendations should be reviewed by qualified tax professionals. The system is regularly updated with the latest tax laws and court decisions to ensure accuracy.</p>
            </div>
        </div>

        <!-- Resources Tab -->
        <div class="tab-content" id="resources-tab">
            <div class="content-card">
                <h2><i class="fas fa-book"></i> Tax Resources & Educational Materials</h2>
                <p>Access our comprehensive library of tax resources to enhance your understanding and compliance:</p>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-file-alt"></i> Tax Filing Guides</h3>
                <p>Step-by-step instructions for completing various tax returns:</p>
                <div class="resource-list">
                    <div class="resource-item">
                        <div class="resource-title">Personal Income Tax Guide</div>
                        <div>Complete guide to filing individual tax returns with examples and common pitfalls.</div>
                    </div>
                    <div class="resource-item">
                        <div class="resource-title">Company Income Tax Guide</div>
                        <div>Detailed instructions for corporate tax filing, including deductions and allowances.</div>
                    </div>
                    <div class="resource-item">
                        <div class="resource-title">VAT Compliance Manual</div>
                        <div>Comprehensive guide to Value Added Tax registration, filing, and remittance.</div>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-tasks"></i> Compliance Checklists</h3>
                <p>Comprehensive checklists for monthly, quarterly, and annual tax compliance requirements:</p>
                <ul>
                    <li>Monthly VAT and WHT compliance checklist</li>
                    <li>Quarterly tax payment and filing checklist</li>
                    <li>Annual tax return preparation checklist</li>
                    <li>Tax audit preparation checklist</li>
                </ul>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-industry"></i> Industry-Specific Guides</h3>
                <p>Detailed tax guidance for specific sectors:</p>
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">Banking & Finance</div>
                        <div>Special tax provisions, deductions, and compliance requirements for financial institutions.</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Oil & Gas</div>
                        <div>Petroleum profit tax, PPTA provisions, and industry-specific incentives.</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Manufacturing</div>
                        <div>Tax incentives, capital allowances, and export promotion schemes.</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Retail & E-commerce</div>
                        <div>VAT collection, digital services tax, and inventory management for tax purposes.</div>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-graduation-cap"></i> Upcoming Tax Workshops</h3>
                <ul>
                    <li><strong>Digital Tax Compliance:</strong> November 15, 2023 - Virtual</li>
                    <li><strong>Transfer Pricing Regulations:</strong> November 22, 2023 - Lagos</li>
                    <li><strong>Small Business Tax Clinic:</strong> December 5, 2023 - Abuja</li>
                    <li><strong>Tax Planning for Executives:</strong> December 12, 2023 - Virtual</li>
                </ul>
                <button class="btn" style="margin-top: 1rem;">
                    <i class="fas fa-calendar-plus"></i> Register for Workshops
                </button>
            </div>
        </div>

        <!-- Penalties Tab -->
        <div class="tab-content" id="penalties-tab">
            <div class="content-card">
                <h2><i class="fas fa-exclamation-triangle"></i> Tax Penalties & Enforcement Actions</h2>
                <p>The Federal Inland Revenue Service is empowered to impose various penalties for non-compliance with tax laws. Understanding these consequences is crucial for every taxpayer:</p>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-balance-scale"></i> Common Tax Penalties</h3>
                <div class="penalty-list" id="penalties-list">
                    <!-- Penalties will be populated by JavaScript -->
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-gavel"></i> Enforcement Actions</h3>
                <p>In addition to financial penalties, the FIRS may take the following enforcement actions:</p>
                <ul>
                    <li>Tax audits and investigations</li>
                    <li>Asset freezing and distraint actions</li>
                    <li>Prosecution in tax courts</li>
                    <li>Publication of tax defaulters</li>
                    <li>Denial of tax clearance certificates</li>
                    <li>Restriction from government contracts</li>
                </ul>
            </div>

            <div class="tax-tip">
                <h4><i class="fas fa-lightbulb"></i> Compliance Tip</h4>
                <p>These penalties are in addition to the original tax liability. It's always better to file and pay on time or seek professional advice if facing difficulties. Consider setting up reminders for important tax deadlines and maintaining accurate records to avoid compliance issues.</p>
            </div>
        </div>

        <!-- Payment Tab -->
        <div class="tab-content" id="payment-tab">
            <div class="content-card">
                <h2><i class="fas fa-credit-card"></i> Tax Payment Methods & Procedures</h2>
                <p>Conveniently pay your taxes through multiple authorized channels. Ensure you have your Tax Identification Number (TIN) ready before proceeding:</p>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-money-check"></i> Available Payment Methods</h3>
                <div class="payment-methods" id="payment-methods-list">
                    <!-- Payment methods will be populated by JavaScript -->
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-list-alt"></i> Payment Requirements</h3>
                <ul>
                    <li>Valid Tax Identification Number (TIN)</li>
                    <li>Tax assessment notice or computation</li>
                    <li>Valid means of identification</li>
                    <li>For companies: Board resolution authorizing payment</li>
                </ul>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-cash-register"></i> Payment Types</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">Advance Payment</div>
                        <div>Make payments in advance to manage cash flow and avoid last-minute challenges</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Installment Payments</div>
                        <div>Structured payment plans available for large tax liabilities with prior approval</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Bulk Payments</div>
                        <div>Consolidated payments for multiple tax types or periods through single transaction</div>
                    </div>
                </div>
            </div>

            <div class="tax-tip">
                <h4><i class="fas fa-receipt"></i> Payment Confirmation</h4>
                <p>Always obtain and retain your payment confirmation receipt. For digital payments, ensure you receive electronic confirmation and save transaction references. Payments may take 24-48 hours to reflect in FIRS records. If you don't receive confirmation within 3 business days, contact the FIRS helpdesk.</p>
            </div>
        </div>

        <!-- Contact Tab -->
        <div class="tab-content" id="contact-tab">
            <div class="content-card">
                <h2><i class="fas fa-envelope"></i> Contact Federal Inland Revenue Service</h2>
                <p>For professional tax assistance, compliance guidance, and inquiries:</p>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-map-marker-alt"></i> Office Locations</h3>
                <div class="contact-info">
                    <h4>Head Office</h4>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Revenue House, 15 Sokode Crescent, Wuse Zone 5, Abuja</span>
                    </div>
                    
                    <h4>Taxpayer Service Centers</h4>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+234 909 999 9999 (Lagos)</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+234 909 888 8888 (Abuja)</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+234 909 777 7777 (Port Harcourt)</span>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-comments"></i> Digital Channels</h3>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>contact@firs.gov.ng</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-globe"></i>
                        <span>www.firs.gov.ng</span>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-twitter"></i>
                        <span>@firsNigeria</span>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-facebook"></i>
                        <span>firsNigeria</span>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-instagram"></i>
                        <span>@firs_nigeria</span>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-headset"></i> Support Services</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">Tax Advisory Services</div>
                        <div>Professional guidance on complex tax matters and compliance requirements</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Dispute Resolution</div>
                        <div>Assistance with tax assessments, objections, and appeals processes</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">Tax Education</div>
                        <div>Workshops, seminars, and materials for taxpayer education</div>
                    </div>
                </div>
            </div>

            <div class="content-card">
                <h3><i class="fas fa-exclamation-circle"></i> Emergency Tax Issues</h3>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span>+234 700 225 5227 (Tax Fraud Hotline)</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>whistleblower@firs.gov.ng</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3>TaxIntelli</h3>
                <p>Your comprehensive Nigerian tax intelligence platform providing accurate calculations, insights, and resources.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#calculator">Tax Calculator</a></li>
                    <li><a href="#insights">AI Insights</a></li>
                    <li><a href="#resources">Tax Resources</a></li>
                    <li><a href="#penalties">Penalties Guide</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Disclaimer</a></li>
                    <li><a href="#">Cookie Policy</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            &copy; 2023 TaxIntelli. All rights reserved. This tool provides estimates for informational purposes only.
        </div>
    </footer>

    <script>
        // Data for the application
        const taxTips = [
            {
                title: "Maximize Pension Contributions",
                detail: "You can contribute up to 25% of your annual income to pension funds, which is tax-deductible and reduces your taxable income significantly."
            },
            {
                title: "Utilize National Housing Fund",
                detail: "Contributions to NHF are tax-deductible up to 2.5% of your monthly income, providing both tax benefits and access to housing loans."
            },
            {
                title: "Claim Dependents Allowance",
                detail: "You can claim allowances for up to four dependents, reducing your taxable income by ₦2,500 per dependent annually."
            },
            {
                title: "Document Business Expenses",
                detail: "Keep accurate records of all business-related expenses including transportation, entertainment, and office supplies to maximize deductions."
            },
            {
                title: "Use Capital Allowances",
                detail: "Claim capital allowances on business assets like equipment, vehicles, and buildings over their useful life according to CAMA guidelines."
            }
        ];

        const penalties = [
            {
                title: "Late Filing of Tax Returns",
                description: "Failure to file tax returns by the due date (31st January for individuals, 30th June for companies) attracts an initial penalty of ₦25,000 for the first month and ₦5,000 for each subsequent month of default.",
                amount: "₦25,000 - ₦50,000 initial + monthly penalties"
            },
            {
                title: "Late Payment of Tax",
                description: "Tax not paid by the due date attracts a penalty of 10% of the tax due plus interest at the prevailing monetary policy rate (currently 18.5% per annum) compounded monthly.",
                amount: "10% penalty + 18.5% interest p.a."
            },
            {
                title: "Incorrect or False Returns",
                description: "Filing an incorrect return knowingly or negligently attracts a penalty of 10% of the tax underpaid. In cases of deliberate tax evasion, additional criminal penalties may apply.",
                amount: "10% - 100% of tax underpaid"
            },
            {
                title: "Failure to Keep Proper Records",
                description: "Failure to maintain proper tax records and books of accounts can result in penalties up to ₦50,000 for individuals and ₦500,000 for companies.",
                amount: "₦50,000 - ₦500,000"
            }
        ];

        const paymentMethods = [
            {
                name: "Remita Platform",
                description: "Pay directly through the Remita platform using your bank account, card, or USSD",
                steps: ["Visit www.remita.net", "Select 'Pay Federal Government Agency'", "Choose 'FIRS' as beneficiary", "Enter your TIN and payment details"]
            },
            {
                name: "Bank Branch",
                description: "Visit any commercial bank branch with your assessment notice",
                steps: ["Get your tax assessment notice", "Visit any commercial bank", "Present your TIN and assessment", "Make payment and get receipt"]
            },
            {
                name: "USSD Code",
                description: "Use *565*6# on your mobile phone for quick payments",
                steps: ["Dial *565*6# on your phone", "Select 'Tax Payments'", "Enter your TIN and amount", "Confirm payment with PIN"]
            },
            {
                name: "Mobile Banking",
                description: "Use your bank's mobile app to make tax payments",
                steps: ["Login to your mobile banking app", "Select 'Tax Payments'", "Choose FIRS as beneficiary", "Enter TIN and complete payment"]
            }
        ];

        const amountOptions = {
            individual: {
                income: [500000, 1000000, 2000000, 5000000, 10000000],
                allowances: [50000, 100000, 200000, 500000, 1000000]
            },
            business: {
                income: [1000000, 5000000, 10000000, 25000000, 50000000, 100000000],
                allowances: [100000, 500000, 1000000, 2500000, 5000000]
            }
        };

        // User data object to store responses
        const userData = {
            userType: null,
            incomeType: null,
            incomeAmount: null,
            allowances: 0
        };

        // DOM elements
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        const onboardingContainer = document.getElementById('onboarding-container');
        const resultsContainer = document.getElementById('results-container');
        const progressBar = document.getElementById('progress-bar');
        const steps = document.querySelectorAll('.onboarding-step');
        const stepIndicators = document.querySelectorAll('.step-dot');
        const sliderTrack = document.getElementById('slider-track');
        const sliderDots = document.getElementById('slider-dots');
        const prevSlideBtn = document.getElementById('prev-slide');
        const nextSlideBtn = document.getElementById('next-slide');
        const penaltiesList = document.getElementById('penalties-list');
        const paymentMethodsList = document.getElementById('payment-methods-list');

        // Initialize the application
        function initApp() {
            initTaxTipsSlider();
            initPenaltiesList();
            initPaymentMethodsList();
            setupEventListeners();
        }

        // Initialize tax tips slider
        function initTaxTipsSlider() {
            sliderTrack.innerHTML = '';
            sliderDots.innerHTML = '';
            
            taxTips.forEach((tip, index) => {
                const slide = document.createElement('div');
                slide.className = 'tip-slide';
                slide.innerHTML = `
                    <div class="tip-content">${tip.title}</div>
                    <div class="tip-detail">${tip.detail}</div>
                `;
                sliderTrack.appendChild(slide);
                
                const dot = document.createElement('div');
                dot.className = 'slider-dot';
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => goToSlide(index));
                sliderDots.appendChild(dot);
            });
            
            currentSlide = 0;
            updateSlider();
            startAutoSlide();
        }

        // Initialize penalties list
        function initPenaltiesList() {
            penaltiesList.innerHTML = '';
            
            penalties.forEach(penalty => {
                const penaltyItem = document.createElement('div');
                penaltyItem.className = 'penalty-item';
                penaltyItem.innerHTML = `
                    <div class="penalty-title">${penalty.title}</div>
                    <div class="penalty-description">${penalty.description}</div>
                    <div><strong>Penalty Amount:</strong> ${penalty.amount}</div>
                `;
                penaltiesList.appendChild(penaltyItem);
            });
        }

        // Initialize payment methods list
        function initPaymentMethodsList() {
            paymentMethodsList.innerHTML = '';
            
            paymentMethods.forEach(method => {
                const methodItem = document.createElement('div');
                methodItem.className = 'payment-method';
                methodItem.innerHTML = `
                    <div class="payment-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="payment-title">${method.name}</div>
                    <div class="payment-description">${method.description}</div>
                    <div class="payment-steps">
                        <strong>Steps:</strong>
                        <ol>
                            ${method.steps.map(step => `<li>${step}</li>`).join('')}
                        </ol>
                    </div>
                `;
                paymentMethodsList.appendChild(methodItem);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Tab navigation
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });

            // Quick action buttons
            document.getElementById('quick-calc-btn').addEventListener('click', () => switchTab('calculator'));
            document.getElementById('quick-payment-btn').addEventListener('click', () => switchTab('payment'));
            document.getElementById('quick-resources-btn').addEventListener('click', () => switchTab('resources'));
            document.getElementById('sign-in-prompt').addEventListener('click', () => document.getElementById('login-btn').click());

            // Slider navigation
            prevSlideBtn.addEventListener('click', prevSlide);
            nextSlideBtn.addEventListener('click', nextSlide);
            
            // Pause auto-slide on hover
            sliderTrack.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
            sliderTrack.addEventListener('mouseleave', startAutoSlide);

            // Setup onboarding step navigation
            setupOnboardingNavigation();
        }

        // Tab switching functionality
        function switchTab(tabId) {
            // Update tab buttons
            tabBtns.forEach(btn => {
                if (btn.getAttribute('data-tab') === tabId) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Update tab contents
            tabContents.forEach(content => {
                if (content.id === `${tabId}-tab`) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
        }

        // Slider functionality
        let currentSlide = 0;
        let autoSlideInterval;

        function goToSlide(slideIndex) {
            currentSlide = slideIndex;
            updateSlider();
            resetAutoSlide();
        }

        function updateSlider() {
            sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            document.querySelectorAll('.slider-dot').forEach((dot, index) => {
                if (index === currentSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % taxTips.length;
            updateSlider();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + taxTips.length) % taxTips.length;
            updateSlider();
        }

        function startAutoSlide() {
            autoSlideInterval = setInterval(nextSlide, 5000);
        }

        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            startAutoSlide();
        }

        // Onboarding functionality
        function setupOnboardingNavigation() {
            // Step 1: User Type Selection
            document.querySelectorAll('#step-1 .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('#step-1 .option-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    userData.userType = this.getAttribute('data-value');
                    document.getElementById('step-1-next').disabled = false;
                });
            });

            // Step 1 Next Button
            document.getElementById('step-1-next').addEventListener('click', function() {
                const incomeTypeOptions = document.getElementById('income-type-options');
                incomeTypeOptions.innerHTML = '';
                
                if (userData.userType === 'individual') {
                    const individualOptions = [
                        { value: 'salary', icon: 'fa-money-bill', title: 'Salary Earner', description: 'I work for a company and receive a salary' },
                        { value: 'business', icon: 'fa-store', title: 'Business Owner', description: 'I run my own business' },
                        { value: 'rental', icon: 'fa-home', title: 'Rental Income', description: 'I earn from renting out property' },
                        { value: 'investment', icon: 'fa-chart-line', title: 'Investment Income', description: 'I earn from investments' }
                    ];
                    
                    individualOptions.forEach(option => {
                        const card = document.createElement('div');
                        card.className = 'option-card';
                        card.setAttribute('data-value', option.value);
                        card.innerHTML = `
                            <div class="option-icon">
                                <i class="fas ${option.icon}"></i>
                            </div>
                            <div class="option-title">${option.title}</div>
                            <div class="option-description">${option.description}</div>
                        `;
                        incomeTypeOptions.appendChild(card);
                    });
                } else {
                    const businessOptions = [
                        { value: 'small', icon: 'fa-store', title: 'Small Business', description: 'Turnover less than ₦25 million' },
                        { value: 'medium', icon: 'fa-building', title: 'Medium Business', description: 'Turnover ₦25M - ₦100M' },
                        { value: 'large', icon: 'fa-industry', title: 'Large Business', description: 'Turnover more than ₦100M' }
                    ];
                    
                    businessOptions.forEach(option => {
                        const card = document.createElement('div');
                        card.className = 'option-card';
                        card.setAttribute('data-value', option.value);
                        card.innerHTML = `
                            <div class="option-icon">
                                <i class="fas ${option.icon}"></i>
                            </div>
                            <div class="option-title">${option.title}</div>
                            <div class="option-description">${option.description}</div>
                        `;
                        incomeTypeOptions.appendChild(card);
                    });
                }
                
                // Add event listeners to new option cards
                document.querySelectorAll('#income-type-options .option-card').forEach(card => {
                    card.addEventListener('click', function() {
                        document.querySelectorAll('#income-type-options .option-card').forEach(c => {
                            c.classList.remove('selected');
                        });
                        this.classList.add('selected');
                        userData.incomeType = this.getAttribute('data-value');
                        document.getElementById('step-2-next').disabled = false;
                    });
                });
                
                goToStep(2);
            });

            // Step 2 Next Button
            document.getElementById('step-2-next').addEventListener('click', function() {
                const step3Title = document.getElementById('step-3-title');
                const step3Description = document.getElementById('step-3-description');
                const incomeLabel = document.getElementById('income-label');
                const incomeHint = document.getElementById('income-hint');
                
                if (userData.userType === 'individual') {
                    step3Title.textContent = "What Is Your Annual Income?";
                    step3Description.textContent = "Enter your total income for the year";
                    incomeLabel.textContent = "Annual Income (₦)";
                    incomeHint.textContent = "This helps us calculate your tax accurately";
                    
                    createAmountOptions(
                        'income-amount-options', 
                        amountOptions.individual.income, 
                        userData.incomeAmount,
                        (amount) => {
                            userData.incomeAmount = amount;
                            document.getElementById('income-amount').value = amount;
                            updateAmountInWords(amount, 'income-amount-words');
                            document.getElementById('step-3-next').disabled = false;
                        }
                    );
                } else {
                    step3Title.textContent = "What Is Your Annual Turnover?";
                    step3Description.textContent = "Enter your business's total turnover for the year";
                    incomeLabel.textContent = "Annual Turnover (₦)";
                    incomeHint.textContent = "Your turnover is the total amount of money your business makes";
                    
                    createAmountOptions(
                        'income-amount-options', 
                        amountOptions.business.income, 
                        userData.incomeAmount,
                        (amount) => {
                            userData.incomeAmount = amount;
                            document.getElementById('income-amount').value = amount;
                            updateAmountInWords(amount, 'income-amount-words');
                            document.getElementById('step-3-next').disabled = false;
                        }
                    );
                }
                
                goToStep(3);
            });

            // Step 2 Back Button
            document.getElementById('step-2-back').addEventListener('click', function() {
                goToStep(1);
            });

            // Step 3: Income Amount Input
            document.getElementById('income-amount').addEventListener('input', function() {
                const value = parseFloat(this.value) || 0;
                userData.incomeAmount = value;
                updateAmountInWords(value, 'income-amount-words');
                
                document.querySelectorAll('#income-amount-options .amount-option').forEach(option => {
                    const optionAmount = parseInt(option.textContent.replace('₦', '').replace(/,/g, ''));
                    if (optionAmount === value) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                });
                
                document.getElementById('step-3-next').disabled = value <= 0;
            });

            // Step 3 Next Button
            document.getElementById('step-3-next').addEventListener('click', function() {
                const step4Title = document.getElementById('step-4-title');
                const step4Description = document.getElementById('step-4-description');
                const allowancesLabel = document.getElementById('allowances-label');
                const allowancesHint = document.getElementById('allowances-hint');
                
                if (userData.userType === 'individual') {
                    step4Title.textContent = "Any Allowances or Deductions?";
                    step4Description.textContent = "These can reduce the amount of tax you pay";
                    allowancesLabel.textContent = "Annual Allowances & Deductions (₦)";
                    allowancesHint.textContent = "Examples: Pension contributions, NHF, dependents";
                    
                    createAmountOptions(
                        'allowances-amount-options', 
                        amountOptions.individual.allowances, 
                        userData.allowances,
                        (amount) => {
                            userData.allowances = amount;
                            document.getElementById('allowances').value = amount;
                            updateAmountInWords(amount, 'allowances-amount-words');
                        }
                    );
                } else {
                    step4Title.textContent = "Any Business Expenses or Deductions?";
                    step4Description.textContent = "These can reduce the amount of tax your business pays";
                    allowancesLabel.textContent = "Annual Business Expenses (₦)";
                    allowancesHint.textContent = "Examples: Employee salaries, rent, equipment costs";
                    
                    createAmountOptions(
                        'allowances-amount-options', 
                        amountOptions.business.allowances, 
                        userData.allowances,
                        (amount) => {
                            userData.allowances = amount;
                            document.getElementById('allowances').value = amount;
                            updateAmountInWords(amount, 'allowances-amount-words');
                        }
                    );
                }
                
                goToStep(4);
            });

            // Step 3 Back Button
            document.getElementById('step-3-back').addEventListener('click', function() {
                goToStep(2);
            });

            // Step 4: Allowances Input
            document.getElementById('allowances').addEventListener('input', function() {
                const value = parseFloat(this.value) || 0;
                userData.allowances = value;
                updateAmountInWords(value, 'allowances-amount-words');
                
                document.querySelectorAll('#allowances-amount-options .amount-option').forEach(option => {
                    const optionAmount = parseInt(option.textContent.replace('₦', '').replace(/,/g, ''));
                    if (optionAmount === value) {
                        option.classList.add('selected');
                    } else {
                        option.classList.remove('selected');
                    }
                });
            });

            // Step 4 Next Button
            document.getElementById('step-4-next').addEventListener('click', function() {
                goToStep(5);
                
                setTimeout(function() {
                    calculateTax();
                    onboardingContainer.style.display = 'none';
                    resultsContainer.style.display = 'block';
                }, 2000);
            });

            // Step 4 Back Button
            document.getElementById('step-4-back').addEventListener('click', function() {
                goToStep(3);
            });

            // Step 5 Back Button
            document.getElementById('step-5-back').addEventListener('click', function() {
                goToStep(4);
            });

            // Restart Button
            document.getElementById('restart-btn').addEventListener('click', function() {
                userData.userType = null;
                userData.incomeType = null;
                userData.incomeAmount = null;
                userData.allowances = 0;
                
                document.querySelectorAll('.option-card').forEach(card => {
                    card.classList.remove('selected');
                });
                document.getElementById('income-amount').value = '';
                document.getElementById('allowances').value = '';
                document.getElementById('step-1-next').disabled = true;
                document.getElementById('step-2-next').disabled = true;
                document.getElementById('step-3-next').disabled = true;
                
                updateAmountInWords(0, 'income-amount-words');
                updateAmountInWords(0, 'allowances-amount-words');
                
                onboardingContainer.style.display = 'block';
                resultsContainer.style.display = 'none';
                
                goToStep(1);
            });

            // Save Result Button
            document.getElementById('save-result').addEventListener('click', function() {
                alert('Calculation saved! In a full implementation, this would save to your account or download as PDF.');
            });

            // Payment Button
            document.getElementById('payment-btn').addEventListener('click', function() {
                switchTab('payment');
            });
        }

        // Step navigation functions
        function goToStep(stepNumber) {
            steps.forEach(step => step.classList.remove('active'));
            stepIndicators.forEach(indicator => indicator.classList.remove('active'));
            
            document.getElementById(`step-${stepNumber}`).classList.add('active');
            stepIndicators[stepNumber - 1].classList.add('active');
            
            const progressPercentage = ((stepNumber - 1) / (steps.length - 1)) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }

        // Number to words conversion function
        function numberToWords(num) {
            if (num === 0) return "Zero Naira";
            
            const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];
            const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
            
            if (num < 0) {
                return 'Negative ' + numberToWords(Math.abs(num));
            }
            
            let words = '';
            
            const numStr = num.toString();
            const parts = numStr.split('.');
            const integerPart = parseInt(parts[0]);
            const decimalPart = parts[1] ? parseInt(parts[1].padEnd(2, '0').substring(0, 2)) : 0;
            
            if (integerPart === 0) {
                words = 'Zero';
            } else {
                let count = 0;
                let n = integerPart;
                
                while (n > 0) {
                    if (n % 1000 !== 0) {
                        let chunk = '';
                        const x = n % 1000;
                        
                        if (x < 20) {
                            chunk = ones[x];
                        } else if (x < 100) {
                            chunk = tens[Math.floor(x / 10)] + (x % 10 !== 0 ? '-' + ones[x % 10] : '');
                        } else {
                            chunk = ones[Math.floor(x / 100)] + ' Hundred ' + (x % 100 !== 0 ? 'and ' + numberToWords(x % 100) : '');
                        }
                        
                        words = chunk + ' ' + words;
                    }
                    n = Math.floor(n / 1000);
                    count++;
                }
                
                words = words.replace(/\s+/g, ' ').trim();
            }
            
            let result = words + ' Naira';
            
            if (decimalPart > 0) {
                let koboWords = '';
                if (decimalPart < 20) {
                    koboWords = ones[decimalPart];
                } else {
                    koboWords = tens[Math.floor(decimalPart / 10)] + (decimalPart % 10 !== 0 ? '-' + ones[decimalPart % 10] : '');
                }
                result += ' and ' + koboWords + ' Kobo';
            }
            
            return result;
        }

        // Function to create amount options
        function createAmountOptions(containerId, options, currentValue, onSelect) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            options.forEach(amount => {
                const option = document.createElement('div');
                option.className = 'amount-option';
                if (currentValue === amount) {
                    option.classList.add('selected');
                }
                option.textContent = '₦' + amount.toLocaleString();
                option.addEventListener('click', () => {
                    onSelect(amount);
                    
                    document.querySelectorAll(`#${containerId} .amount-option`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    option.classList.add('selected');
                });
                container.appendChild(option);
            });
        }

        // Function to update amount in words display
        function updateAmountInWords(amount, wordsContainerId) {
            const wordsContainer = document.getElementById(wordsContainerId);
            if (amount && amount > 0) {
                wordsContainer.textContent = numberToWords(amount);
            } else {
                wordsContainer.textContent = 'Amount in words will appear here';
            }
        }

        // Tax Calculation Function
        function calculateTax() {
            let taxableIncome = userData.incomeAmount - userData.allowances;
            let tax = 0;
            let taxRate = 0;
            let tip = '';
            
            if (userData.userType === 'individual') {
                if (taxableIncome <= 300000) {
                    taxRate = 0.07;
                } else if (taxableIncome <= 600000) {
                    taxRate = 0.11;
                } else if (taxableIncome <= 1100000) {
                    taxRate = 0.15;
                } else if (taxableIncome <= 1600000) {
                    taxRate = 0.19;
                } else {
                    taxRate = 0.21;
                }
                
                tax = taxableIncome * taxRate;
                
                switch(userData.incomeType) {
                    case 'salary':
                        tip = "Consider maximizing your pension contributions (up to 25% of annual income) and National Housing Fund contributions to reduce your taxable income.";
                        break;
                    case 'business':
                        tip = "Ensure you're claiming all legitimate business expenses and consider timing major equipment purchases to maximize deductions.";
                        break;
                    case 'rental':
                        tip = "Maximize deductions for property maintenance, insurance, management fees, and repairs.";
                        break;
                    case 'investment':
                        tip = "Review your investment portfolio for tax-efficient instruments and explore timing of capital gains realization.";
                        break;
                }
            } else {
                if (userData.incomeType === 'small') {
                    taxRate = 0.20;
                    tip = "Small businesses with turnover below ₦25 million enjoy reduced tax rates and simplified compliance requirements.";
                } else if (userData.incomeType === 'medium') {
                    taxRate = 0.25;
                    tip = "Medium-sized businesses can benefit from various incentives including investment allowances.";
                } else {
                    taxRate = 0.30;
                    tip = "Large companies should explore sector-specific incentives and strategic timing of major expenses.";
                }
                
                tax = taxableIncome * taxRate;
            }
            
            // Update results UI
            document.getElementById('calculated-tax').textContent = `₦${Math.round(tax).toLocaleString()}`;
            document.getElementById('taxable-income').textContent = `₦${Math.round(taxableIncome).toLocaleString()}`;
            document.getElementById('tax-rate').textContent = `${(taxRate * 100).toFixed(1)}%`;
            document.getElementById('total-allowances').textContent = `₦${Math.round(userData.allowances).toLocaleString()}`;
            document.getElementById('net-tax').textContent = `₦${Math.round(tax).toLocaleString()}`;
            document.getElementById('optimization-tip').textContent = tip;
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
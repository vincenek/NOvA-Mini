<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ArbScan - Client-Side Crypto Arbitrage Scanner</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #1e293b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --light: #f8fafc;
            --gray: #64748b;
            --card-bg: rgba(30, 41, 59, 0.6);
            --card-border: rgba(148, 163, 184, 0.2);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--card-border);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo i {
            font-size: 2.8rem;
            color: var(--primary);
            background: rgba(37, 99, 235, 0.15);
            padding: 15px;
            border-radius: 50%;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(to right, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        @media (min-width: 992px) {
            .container {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid var(--card-border);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--card-border);
        }
        
        .card-title {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: var(--primary);
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            flex: 1;
            min-width: 200px;
        }
        
        label {
            margin-bottom: 8px;
            font-weight: 500;
            color: #cbd5e1;
        }
        
        select, input {
            padding: 12px 15px;
            border-radius: 10px;
            border: 1px solid var(--card-border);
            background: rgba(15, 23, 42, 0.6);
            color: var(--light);
            font-size: 1rem;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .btn {
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: rgba(37, 99, 235, 0.1);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
            transform: translateY(-2px);
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th {
            background: rgba(15, 23, 42, 0.7);
            padding: 15px;
            text-align: left;
            color: #94a3b8;
            font-weight: 500;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid var(--card-border);
        }
        
        tr:last-child td {
            border-bottom: none;
        }
        
        tr:hover {
            background: rgba(15, 23, 42, 0.4);
        }
        
        .profit {
            color: var(--success);
            font-weight: 700;
        }
        
        .loss {
            color: var(--danger);
            font-weight: 700;
        }
        
        .exchange-logo {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 10px;
            object-fit: cover;
        }
        
        .opportunity-card {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .opportunity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .opportunity-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .badge-success {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }
        
        .badge-warning {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }
        
        .opportunity-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .opportunity-item {
            display: flex;
            flex-direction: column;
        }
        
        .opportunity-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .opportunity-value {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .chart-container {
            height: 300px;
            margin-top: 20px;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            transform: translateX(120%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .privacy-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(15, 23, 42, 0.6);
            padding: 10px 15px;
            border-radius: 50px;
            margin-top: 20px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #334155;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--success);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature {
            background: rgba(15, 23, 42, 0.4);
            padding: 20px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .feature i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
            background: rgba(37, 99, 235, 0.15);
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .feature h3 {
            margin-bottom: 10px;
            color: #e2e8f0;
        }
        
        .feature p {
            color: #94a3b8;
            font-size: 0.95rem;
        }
        
        .disclaimer {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            font-size: 0.9rem;
        }
        
        .disclaimer h3 {
            color: var(--danger);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-chart-line"></i>
            <div>
                <h1>ArbScan</h1>
                <p class="subtitle">Client-Side Crypto Arbitrage Scanner - No accounts, no tracking, all computations happen in your browser</p>
            </div>
        </div>
    </header>
    
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-search-dollar"></i> Arbitrage Scanner</h2>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="crypto-pair">Crypto Pair</label>
                    <select id="crypto-pair">
                        <option value="BTC/USDT">BTC/USDT</option>
                        <option value="ETH/USDT" selected>ETH/USDT</option>
                        <option value="SOL/USD">SOL/USD</option>
                        <option value="BNB/USDT">BNB/USDT</option>
                        <option value="ADA/USD">ADA/USD</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="fee-percentage">Trading Fee (%)</label>
                    <input type="number" id="fee-percentage" value="0.1" step="0.01" min="0">
                </div>
                
                <div class="control-group">
                    <label for="min-profit">Min Profit (%)</label>
                    <input type="number" id="min-profit" value="0.5" step="0.1" min="0">
                </div>
            </div>
            
            <div class="btn-group">
                <button id="scan-btn" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> Scan Arbitrage
                </button>
                
                <button id="export-csv" class="btn btn-outline">
                    <i class="fas fa-file-csv"></i> Export CSV
                </button>
                
                <button id="export-json" class="btn btn-outline">
                    <i class="fas fa-file-code"></i> Export JSON
                </button>
            </div>
            
            <div class="privacy-toggle">
                <span>Privacy Mode:</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="privacy-mode">
                    <span class="slider"></span>
                </label>
            </div>
            
            <table>
                <thead>
                    <tr>
                        <th>Exchange</th>
                        <th>Price</th>
                        <th>24h Volume</th>
                        <th>Spread</th>
                        <th>Fees</th>
                        <th>Profit</th>
                    </tr>
                </thead>
                <tbody id="exchange-data">
                    <!-- Data will be populated here -->
                </tbody>
            </table>
            
            <div class="opportunity-card">
                <div class="opportunity-header">
                    <h3>Best Arbitrage Opportunity</h3>
                    <span class="opportunity-badge badge-success">LIVE</span>
                </div>
                <div class="opportunity-content">
                    <div class="opportunity-item">
                        <span class="opportunity-label">Buy From</span>
                        <span class="opportunity-value">Coinbase: $1,840.21</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Sell To</span>
                        <span class="opportunity-value">Binance: $1,854.36</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Spread</span>
                        <span class="opportunity-value">0.77%</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Profit</span>
                        <span class="opportunity-value profit">0.57%</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-risk"></i> Risk Simulator</h2>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="simulation-type">Simulation Type</label>
                    <select id="simulation-type">
                        <option value="monte-carlo">Monte Carlo</option>
                        <option value="volatility">Volatility Analysis</option>
                        <option value="historical">Historical Performance</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="risk-factor">Risk Factor</label>
                    <select id="risk-factor">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
            </div>
            
            <div class="btn-group">
                <button id="run-simulation" class="btn btn-primary">
                    <i class="fas fa-play"></i> Run Simulation
                </button>
                
                <button id="save-simulation" class="btn btn-outline">
                    <i class="fas fa-save"></i> Save Scenario
                </button>
            </div>
            
            <div class="chart-container">
                <canvas id="risk-chart"></canvas>
            </div>
            
            <div class="opportunity-card">
                <div class="opportunity-header">
                    <h3>Simulation Results</h3>
                    <span class="opportunity-badge badge-warning">MODERATE RISK</span>
                </div>
                <div class="opportunity-content">
                    <div class="opportunity-item">
                        <span class="opportunity-label">Success Probability</span>
                        <span class="opportunity-value">74%</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Avg. Profit</span>
                        <span class="opportunity-value profit">0.42%</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Max Drawdown</span>
                        <span class="opportunity-value loss">-0.38%</span>
                    </div>
                    <div class="opportunity-item">
                        <span class="opportunity-label">Volatility</span>
                        <span class="opportunity-value">0.21%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="features">
        <div class="feature">
            <i class="fas fa-user-shield"></i>
            <h3>Privacy First</h3>
            <p>All calculations happen in your browser. No data leaves your device, ensuring complete privacy.</p>
        </div>
        <div class="feature">
            <i class="fas fa-bolt"></i>
            <h3>Real-Time Data</h3>
            <p>Access live prices from top exchanges directly through public APIs with no intermediaries.</p>
        </div>
        <div class="feature">
            <i class="fas fa-calculator"></i>
            <h3>Risk Assessment</h3>
            <p>Built-in Monte Carlo simulation helps evaluate trade success probability before execution.</p>
        </div>
        <div class="feature">
            <i class="fas fa-bell"></i>
            <h3>Smart Alerts</h3>
            <p>Browser notifications alert you when profitable opportunities exceed your threshold.</p>
        </div>
    </div>
    
    <div class="disclaimer">
        <h3><i class="fas fa-exclamation-triangle"></i> Important Disclaimer</h3>
        <p>Crypto arbitrage involves significant risks including market volatility, execution risk, and exchange fees. Past performance is not indicative of future results. This tool is for informational purposes only and does not constitute financial advice. Always do your own research and consider consulting a financial advisor before trading.</p>
    </div>
    
    <div id="notification" class="notification">
        <i class="fas fa-bell"></i>
        <span>New arbitrage opportunity found! Profit: 0.92%</span>
    </div>
    
    <footer>
        <p>ArbScan - Client-Side Crypto Arbitrage Scanner | Open Source Fintech Project</p>
        <p>Data updates in real-time | All computations happen locally | Zero tracking or data collection</p>
    </footer>

    <script>
        // Sample exchange data
        const exchanges = [
            { name: "Binance", logo: "B", price: 1854.36, volume: "2.4B", spread: 0.12, fee: 0.1, profit: 0.57 },
            { name: "Coinbase", logo: "C", price: 1840.21, volume: "1.2B", spread: 0.18, fee: 0.25, profit: 0.62 },
            { name: "Kraken", logo: "K", price: 1847.83, volume: "890M", spread: 0.15, fee: 0.16, profit: 0.48 },
            { name: "KuCoin", logo: "K", price: 1851.74, volume: "1.1B", spread: 0.14, fee: 0.12, profit: 0.52 },
            { name: "Huobi", logo: "H", price: 1843.65, volume: "980M", spread: 0.17, fee: 0.18, profit: 0.41 }
        ];
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Render exchange table
            renderExchangeTable();
            
            // Initialize chart
            initRiskChart();
            
            // Setup event listeners
            document.getElementById('scan-btn').addEventListener('click', scanArbitrage);
            document.getElementById('export-csv').addEventListener('click', exportCSV);
            document.getElementById('export-json').addEventListener('click', exportJSON);
            document.getElementById('run-simulation').addEventListener('click', runSimulation);
            document.getElementById('privacy-mode').addEventListener('change', togglePrivacyMode);
            
            // Show welcome notification
            setTimeout(showNotification, 2000);
        });
        
        function renderExchangeTable() {
            const tableBody = document.getElementById('exchange-data');
            tableBody.innerHTML = '';
            
            exchanges.forEach(exchange => {
                const row = document.createElement('tr');
                
                // Determine profit/loss class
                const profitClass = exchange.profit > 0.5 ? 'profit' : (exchange.profit > 0.3 ? '' : 'loss');
                
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center;">
                            <div class="exchange-logo" style="background: ${getRandomColor()}; 
                                display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${exchange.logo}
                            </div>
                            ${exchange.name}
                        </div>
                    </td>
                    <td>$${exchange.price.toFixed(2)}</td>
                    <td>${exchange.volume}</td>
                    <td>${exchange.spread.toFixed(2)}%</td>
                    <td>${exchange.fee.toFixed(2)}%</td>
                    <td class="${profitClass}">${exchange.profit.toFixed(2)}%</td>
                `;
                
                tableBody.appendChild(row);
            });
        }
        
        function getRandomColor() {
            const colors = ['#3B82F6', '#8B5CF6', '#EC4899', '#10B981', '#F59E0B', '#EF4444'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        function scanArbitrage() {
            const privacyMode = document.getElementById('privacy-mode').checked;
            const minProfit = parseFloat(document.getElementById('min-profit').value);
            
            // Show loading state
            const scanBtn = document.getElementById('scan-btn');
            const originalText = scanBtn.innerHTML;
            scanBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Scanning...';
            scanBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                if (privacyMode) {
                    // Use mock data in privacy mode
                    exchanges.forEach(ex => {
                        ex.price = 1800 + Math.random() * 100;
                        ex.profit = Math.random() * 1.5;
                    });
                } else {
                    // Simulate live data updates
                    exchanges.forEach(ex => {
                        const change = (Math.random() - 0.5) * 20;
                        ex.price = Math.max(1700, ex.price + change);
                        ex.profit = Math.random() * 1.5;
                    });
                }
                
                // Update table
                renderExchangeTable();
                
                // Find best opportunity
                const bestOpportunity = [...exchanges].sort((a, b) => b.profit - a.profit)[0];
                
                // Update opportunity card
                document.querySelector('.opportunity-value.profit').textContent = 
                    `${bestOpportunity.profit.toFixed(2)}%`;
                
                // Show notification if significant opportunity
                if (bestOpportunity.profit > minProfit) {
                    showNotification(`New arbitrage opportunity! Profit: ${bestOpportunity.profit.toFixed(2)}%`);
                }
                
                // Restore button state
                scanBtn.innerHTML = originalText;
                scanBtn.disabled = false;
            }, 1500);
        }
        
        function initRiskChart() {
            const ctx = document.getElementById('risk-chart').getContext('2d');
            
            // Generate simulation data
            const labels = [];
            const successData = [];
            const failureData = [];
            
            for (let i = 0; i < 50; i++) {
                labels.push(`Sim ${i+1}`);
                successData.push(Math.random() * 100);
                failureData.push(Math.random() * 30);
            }
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Profit (%)',
                            data: successData,
                            backgroundColor: 'rgba(16, 185, 129, 0.7)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'Loss (%)',
                            data: failureData,
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(148, 163, 184, 0.1)'
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#94a3b8'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#e2e8f0'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(30, 41, 59, 0.9)',
                            titleColor: '#f8fafc',
                            bodyColor: '#e2e8f0',
                            borderColor: 'rgba(148, 163, 184, 0.2)',
                            borderWidth: 1
                        }
                    }
                }
            });
        }
        
        function runSimulation() {
            const btn = document.getElementById('run-simulation');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Simulating...';
            btn.disabled = true;
            
            setTimeout(() => {
                // Update simulation results
                const results = document.querySelectorAll('.opportunity-value');
                results[0].textContent = `${(70 + Math.random() * 15).toFixed(0)}%`;
                results[1].textContent = `${(0.3 + Math.random() * 0.4).toFixed(2)}%`;
                results[2].textContent = `-${(0.2 + Math.random() * 0.3).toFixed(2)}%`;
                results[3].textContent = `${(0.15 + Math.random() * 0.1).toFixed(2)}%`;
                
                // Restore button
                btn.innerHTML = originalText;
                btn.disabled = false;
                
                // Show notification
                showNotification("Risk simulation completed successfully");
            }, 2000);
        }
        
        function showNotification(message = "Welcome to ArbScan! Start scanning for arbitrage opportunities.") {
            const notification = document.getElementById('notification');
            notification.querySelector('span').textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }
        
        function exportCSV() {
            showNotification("CSV export started. Your download will begin shortly.");
            // In a real implementation, this would generate and download a CSV file
        }
        
        function exportJSON() {
            showNotification("JSON export started. Your download will begin shortly.");
            // In a real implementation, this would generate and download a JSON file
        }
        
        function togglePrivacyMode() {
            const privacyMode = document.getElementById('privacy-mode').checked;
            showNotification(privacyMode ? 
                "Privacy mode enabled: Using cached/mock data" : 
                "Privacy mode disabled: Using live exchange data");
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PipProfit Pro - Professional Forex Trading Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --border: #e2e8f0;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --premium: #f59e0b;
            --offline: #ef4444;
            --innovation: #8b5cf6;
            --sentiment-bullish: #10b981;
            --sentiment-bearish: #ef4444;
            --sentiment-neutral: #64748b;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0f172a;
            color: #e2e8f0;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 1rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .logo i {
            font-size: 1.8rem;
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
        }
        
        .nav-links a {
            color: #cbd5e1;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .nav-links a:hover {
            color: white;
            background: rgba(37, 99, 235, 0.1);
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .hero {
            background: linear-gradient(rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.9)), url('https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2000&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 6rem 0;
            text-align: center;
            position: relative;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--innovation) 100%);
            opacity: 0.2;
            z-index: -1;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
        }
        
        .hero p {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            color: #cbd5e1;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px 35px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            box-shadow: var(--shadow);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 20px 25px -5px rgba(37, 99, 235, 0.3);
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid white;
            margin-left: 15px;
        }
        
        .btn-outline:hover {
            background: white;
            color: var(--primary);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, var(--premium), #f97316);
        }
        
        .btn-premium:hover {
            background: linear-gradient(135deg, #f97316, var(--premium));
            box-shadow: 0 20px 25px -5px rgba(245, 158, 11, 0.3);
        }
        
        .btn-innovation {
            background: linear-gradient(135deg, var(--innovation), #7c3aed);
        }
        
        .btn-innovation:hover {
            background: linear-gradient(135deg, #7c3aed, var(--innovation));
            box-shadow: 0 20px 25px -5px rgba(139, 92, 246, 0.3);
        }
        
        .features {
            padding: 6rem 0;
            background: #0f172a;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 4rem;
            font-size: 2.5rem;
            color: white;
            font-weight: 700;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
            margin: 15px auto;
            border-radius: 2px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 16px;
            padding: 40px 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-color: rgba(37, 99, 235, 0.3);
        }
        
        .feature-icon {
            font-size: 3.5rem;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 25px;
        }
        
        .feature-card h3 {
            margin-bottom: 20px;
            font-size: 1.6rem;
            color: white;
        }
        
        .feature-card p {
            color: #94a3b8;
        }
        
        .calculator {
            background: #0f172a;
            padding: 6rem 0;
        }
        
        .calculator-container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 20px;
            box-shadow: var(--shadow);
            padding: 40px;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(15, 23, 42, 0.5);
            color: white;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
        }
        
        .input-row {
            display: flex;
            gap: 25px;
        }
        
        .input-row .input-group {
            flex: 1;
        }
        
        .result {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(16, 185, 129, 0.15));
            padding: 30px;
            border-radius: 16px;
            margin: 40px 0;
            text-align: center;
            border: 1px solid rgba(37, 99, 235, 0.2);
        }
        
        .result h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
            color: white;
        }
        
        .profit-amount {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 15px 0;
        }
        
        .loss {
            background: linear-gradient(135deg, var(--sentiment-bearish), #dc2626);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .pricing {
            background: #0f172a;
            padding: 6rem 0;
            text-align: center;
        }
        
        .pricing-card {
            background: rgba(30, 41, 59, 0.5);
            border-radius: 20px;
            padding: 50px 40px;
            box-shadow: var(--shadow);
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .pricing-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
        }
        
        .country-selector {
            margin: 30px auto;
            max-width: 300px;
        }
        
        .price {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 30px 0;
        }
        
        .price span {
            font-size: 1.2rem;
            color: #94a3b8;
        }
        
        footer {
            background: #0f172a;
            color: white;
            padding: 4rem 0 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            margin-bottom: 25px;
            font-size: 1.5rem;
            color: white;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 15px;
        }
        
        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #64748b;
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .btn {
                display: block;
                width: 100%;
                margin-bottom: 15px;
            }
            
            .btn-outline {
                margin-left: 0;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                right: 0;
                background: rgba(15, 23, 42, 0.95);
                flex-direction: column;
                padding: 20px;
                gap: 10px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 12px;
                margin: 0 20px;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .input-row {
                flex-direction: column;
                gap: 0;
            }
            
            .section-title {
                font-size: 2rem;
            }
        }
        
        /* Sentiment Indicator */
        .sentiment-indicator {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 30px 0;
            padding: 20px;
            border-radius: 12px;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .sentiment-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
        }
        
        .bullish {
            background: rgba(16, 185, 129, 0.15);
            color: var(--sentiment-bullish);
        }
        
        .bearish {
            background: rgba(239, 68, 68, 0.15);
            color: var(--sentiment-bearish);
        }
        
        .neutral {
            background: rgba(100, 116, 139, 0.15);
            color: var(--sentiment-neutral);
        }
        
        /* Market Pressure Indicator */
        .market-pressure {
            margin: 30px 0;
            padding: 20px;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .pressure-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .pressure-fill {
            height: 100%;
            border-radius: 6px;
        }
        
        .bullish-fill {
            background: linear-gradient(90deg, var(--sentiment-bullish), #059669);
        }
        
        .bearish-fill {
            background: linear-gradient(90deg, var(--sentiment-bearish), #dc2626);
        }
        
        /* AI Prediction Section */
        .ai-prediction {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            border-radius: 16px;
            margin: 40px 0;
            border-left: 4px solid var(--innovation);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .prediction-chart {
            height: 250px;
            margin: 30px 0;
            position: relative;
        }
        
        .prediction-confidence {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .confidence-bar {
            flex-grow: 1;
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--sentiment-bullish), #059669);
            border-radius: 6px;
            width: 75%;
        }
        
        .prediction-recommendation {
            padding: 20px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 12px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Market Segmentation */
        .market-segmentation {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            border-radius: 16px;
            margin: 40px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .segment-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .segment-btn {
            padding: 12px 24px;
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            color: #94a3b8;
            font-weight: 600;
        }
        
        .segment-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-color: var(--primary);
        }
        
        .segment-content {
            display: none;
        }
        
        .segment-content.active {
            display: block;
        }
        
        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .market-card {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .market-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
            border-color: rgba(37, 99, 235, 0.3);
        }
        
        .market-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .market-price {
            font-weight: 700;
            font-size: 1.3rem;
            margin: 10px 0;
            color: white;
        }
        
        .market-change {
            font-size: 1rem;
            font-weight: 600;
        }
        
        .positive {
            color: var(--sentiment-bullish);
        }
        
        .negative {
            color: var(--sentiment-bearish);
        }
        
        /* Trading Insights */
        .insights-container {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            border-radius: 16px;
            margin: 40px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .insight-item {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .insight-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary), var(--innovation));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Loading States */
        .loading {
            position: relative;
            overflow: hidden;
        }
        
        .loading::after {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            transform: translateX(-100%);
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0,
                rgba(255, 255, 255, 0.1) 20%,
                rgba(255, 255, 255, 0.2) 60%,
                rgba(255, 255, 255, 0)
            );
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            100% {
                transform: translateX(100%);
            }
        }
        
        /* Currency Selector Enhancement */
        .currency-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .currency-flag {
            width: 32px;
            height: 24px;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        /* Notification System */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            color: var(--dark);
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification-error {
            background: var(--sentiment-bearish);
            color: white;
        }
        
        .notification-success {
            background: var(--sentiment-bullish);
            color: white;
        }
        
        .notification i {
            font-size: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page">
        <header>
            <div class="container">
                <nav>
                    <div class="logo">
                        <i class="fas fa-chart-line"></i>
                        <span>PipProfit Pro</span>
                    </div>
                    <div class="nav-links" id="navLinks">
                        <a href="#features">Features</a>
                        <a href="#calculator">Calculator</a>
                        <a href="#pricing">Pricing</a>
                    </div>
                    <button class="mobile-menu-btn" id="menuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                </nav>
            </div>
        </header>

        <section class="hero">
            <div class="container">
                <h1>Professional Forex Trading Platform</h1>
                <p>Advanced AI-powered trading tools, real-time market data, and professional analytics for serious traders</p>
                <a href="#pricing" class="btn pulse">Get Premium Access</a>
                <a href="#calculator" class="btn btn-outline">Try Free Calculator</a>
            </div>
        </section>

        <section class="features" id="features">
            <div class="container">
                <h2 class="section-title">Advanced Trading Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>Precision Calculation</h3>
                        <p>Real-time profit/loss calculation with currency-specific algorithms</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3>AI Insights</h3>
                        <p>Get AI-powered trading recommendations and risk analysis</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <h3>Market Segmentation</h3>
                        <p>Analyze different market sectors and their performance</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Social Trading</h3>
                        <p>Connect with other traders and follow successful strategies</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="calculator" id="calculator">
            <div class="container">
                <h2 class="section-title">Forex Profit Calculator</h2>
                <div class="calculator-container">
                    <div class="input-group">
                        <label for="lotSize">Lot Size</label>
                        <input type="number" id="lotSize" placeholder="Enter lot size (e.g., 0.1, 1.0)" step="0.01" min="0.01" value="1.0">
                    </div>
                    
                    <div class="input-row">
                        <div class="input-group">
                            <label for="entryPrice">Entry Price</label>
                            <input type="number" id="entryPrice" placeholder="Entry price (e.g., 1.2345)" step="0.0001" min="0" value="1.1200">
                        </div>
                        <div class="input-group">
                            <label for="exitPrice">Exit Price</label>
                            <input type="number" id="exitPrice" placeholder="Exit price (e.g., 1.2456)" step="0.0001" min="0" value="1.1350">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="currencyPair">Currency Pair</label>
                        <div class="currency-selector">
                            <img src="https://flagcdn.com/16x12/eu.png" class="currency-flag" id="baseFlag">
                            <select id="currencyPair">
                                <option value="EUR/USD">EUR/USD</option>
                                <option value="GBP/USD">GBP/USD</option>
                                <option value="USD/JPY">USD/JPY</option>
                                <option value="AUD/USD">AUD/USD</option>
                                <option value="USD/CAD">USD/CAD</option>
                                <option value="NZD/USD">NZD/USD</option>
                                <option value="USD/CHF">USD/CHF</option>
                            </select>
                            <img src="https://flagcdn.com/16x12/us.png" class="currency-flag" id="quoteFlag">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="positionType">Position Type</label>
                        <select id="positionType">
                            <option value="long">Long (Buy)</option>
                            <option value="short">Short (Sell)</option>
                        </select>
                    </div>
                    
                    <button class="btn" style="width: 100%;" id="calculateBtn">Calculate Profit/Loss</button>
                    
                    <div class="result" id="result" style="display: none;">
                        <h3>Estimated Profit/Loss</h3>
                        <div class="profit-amount" id="profitAmount">$0.00</div>
                        <p id="resultDetails">The estimated profit/loss for your trade</p>
                    </div>
                    
                    <!-- AI Prediction Section -->
                    <div class="ai-prediction" id="aiPrediction">
                        <h3><i class="fas fa-robot"></i> AI Market Prediction</h3>
                        <div class="prediction-chart" id="predictionChart">
                            <!-- Chart will be rendered here -->
                        </div>
                        <div class="prediction-summary">
                            <div class="prediction-confidence">
                                <span>AI Confidence: </span>
                                <div class="confidence-bar">
                                    <div class="confidence-fill" id="confidenceFill"></div>
                                </div>
                                <span id="confidenceValue">75%</span>
                            </div>
                            <div class="prediction-recommendation">
                                <h4>AI Recommendation: <span id="aiRecommendation">STRONG BUY</span></h4>
                                <p id="aiReasoning">Based on historical patterns and current market conditions, EUR/USD shows bullish momentum with 75% confidence.</p>
                            </div>
                        </div>
                        <button class="btn btn-innovation" id="refreshPrediction">
                            <i class="fas fa-sync-alt"></i> Refresh Prediction
                        </button>
                    </div>
                    
                    <!-- Sentiment Indicator -->
                    <div class="sentiment-indicator" id="sentimentIndicator">
                        <i class="fas fa-chart-line"></i>
                        <div>
                            <strong>Market Sentiment</strong>
                            <div id="sentimentValue">Loading sentiment data...</div>
                        </div>
                        <span class="sentiment-badge" id="sentimentBadge">Bullish</span>
                    </div>
                    
                    <!-- Market Pressure Indicator -->
                    <div class="market-pressure" id="marketPressure">
                        <div class="input-group">
                            <label>Market Pressure Index</label>
                            <div class="pressure-bar">
                                <div class="pressure-fill bullish-fill" id="pressureFill" style="width: 75%"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                                <span>Bearish</span>
                                <span>Bullish</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Segmentation -->
                    <div class="market-segmentation" id="marketSegmentation">
                        <h3><i class="fas fa-chart-pie"></i> Market Segmentation</h3>
                        <p>Analyze performance across different market sectors</p>
                        
                        <div class="segment-controls">
                            <button class="segment-btn active" data-segment="forex">Forex</button>
                            <button class="segment-btn" data-segment="crypto">Cryptocurrency</button>
                            <button class="segment-btn" data-segment="indices">Indices</button>
                            <button class="segment-btn" data-segment="commodities">Commodities</button>
                        </div>
                        
                        <div class="segment-content active" id="forex-segment">
                            <h4>Major Forex Pairs</h4>
                            <div class="market-grid" id="forex-grid">
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-euro-sign"></i>
                                    </div>
                                    <h4>EUR/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-pound-sign"></i>
                                    </div>
                                    <h4>GBP/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-yen-sign"></i>
                                    </div>
                                    <h4>USD/JPY</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-dollar-sign"></i>
                                    </div>
                                    <h4>USD/CHF</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="segment-content" id="crypto-segment">
                            <h4>Cryptocurrencies</h4>
                            <div class="market-grid" id="crypto-grid">
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fab fa-bitcoin"></i>
                                    </div>
                                    <h4>BTC/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fab fa-ethereum"></i>
                                    </div>
                                    <h4>ETH/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-coins"></i>
                                    </div>
                                    <h4>BNB/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-dollar-sign"></i>
                                    </div>
                                    <h4>XRP/USD</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="segment-content" id="indices-segment">
                            <h4>Global Indices</h4>
                            <div class="market-grid" id="indices-grid">
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>S&P 500</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>DOW JONES</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>NASDAQ</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>FTSE 100</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="segment-content" id="commodities-segment">
                            <h4>Commodities</h4>
                            <div class="market-grid" id="commodities-grid">
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-gas-pump"></i>
                                    </div>
                                    <h4>Crude Oil</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-ring"></i>
                                    </div>
                                    <h4>Gold</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-ring"></i>
                                    </div>
                                    <h4>Silver</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                                <div class="market-card loading">
                                    <div class="market-icon">
                                        <i class="fas fa-seedling"></i>
                                    </div>
                                    <h4>Natural Gas</h4>
                                    <div class="market-price">Loading...</div>
                                    <div class="market-change">--</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Trading Insights -->
                    <div class="insights-container" id="insightsContainer">
                        <h3><i class="fas fa-lightbulb"></i> Trading Insights</h3>
                        <div class="insight-item">
                            <div class="insight-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <strong>Market Trend</strong>
                                <p id="marketTrend">Loading market data...</p>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div>
                                <strong>Risk Recommendation</strong>
                                <p id="riskRecommendation">Calculating risk parameters...</p>
                            </div>
                        </div>
                        <div class="insight-item">
                            <div class="insight-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div>
                                <strong>Economic Events</strong>
                                <p id="economicEvents">Loading economic calendar...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="pricing" id="pricing">
            <div class="container">
                <h2 class="section-title">Premium Membership</h2>
                <div class="pricing-card">
                    <h3>Professional Plan</h3>
                    <p>Unlock all premium features with our monthly subscription</p>
                    
                    <div class="country-selector">
                        <div class="input-group">
                            <label for="country">Select Your Country</label>
                            <select id="country">
                                <option value="NG">Nigeria (₦1500)</option>
                                <option value="US">United States ($9.99)</option>
                                <option value="UK">United Kingdom (£7.99)</option>
                                <option value="EU">Europe (€8.99)</option>
                                <option value="other">Other Countries ($9.99)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="price" id="dynamicPrice">₦1,500</div>
                    
                    <button class="btn btn-premium pulse" style="width: 100%;">
                        <i class="fas fa-lock"></i> Subscribe Now
                    </button>
                    <p style="margin-top: 15px; font-size: 0.9rem;">Secure payment processing</p>
                </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-column">
                        <h3>PipProfit Pro</h3>
                        <p>Advanced Forex tools for professional traders</p>
                    </div>
                    <div class="footer-column">
                        <h3>Quick Links</h3>
                        <ul class="footer-links">
                            <li><a href="#features">Features</a></li>
                            <li><a href="#calculator">Calculator</a></li>
                            <li><a href="#pricing">Pricing</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Contact</h3>
                        <ul class="footer-links">
                            <li><i class="fas fa-envelope"></i> support@pipprofit.com</li>
                            <li><i class="fas fa-phone"></i> +234 9153072571</li>
                            <li><i class="fas fa-map-marker-alt"></i> Lagos, Nigeria</li>
                        </ul>
                    </div>
                </div>
                <div class="copyright">
                    &copy; 2023 PipProfit Pro. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <!-- Notification System -->
    <div class="notification" id="notification">
        <i class="fas fa-info-circle"></i>
        <div id="notificationMessage">This is a notification message</div>
    </div>

    <script>
        // App Initialization
        document.addEventListener('DOMContentLoaded', function() {
            const app = {
                // DOM Elements
                menuBtn: document.getElementById('menuBtn'),
                navLinks: document.getElementById('navLinks'),
                calculateBtn: document.getElementById('calculateBtn'),
                result: document.getElementById('result'),
                profitAmount: document.getElementById('profitAmount'),
                resultDetails: document.getElementById('resultDetails'),
                currencyPair: document.getElementById('currencyPair'),
                baseFlag: document.getElementById('baseFlag'),
                quoteFlag: document.getElementById('quoteFlag'),
                positionType: document.getElementById('positionType'),
                sentimentIndicator: document.getElementById('sentimentIndicator'),
                sentimentBadge: document.getElementById('sentimentBadge'),
                sentimentValue: document.getElementById('sentimentValue'),
                marketPressure: document.getElementById('marketPressure'),
                pressureFill: document.getElementById('pressureFill'),
                marketTrend: document.getElementById('marketTrend'),
                riskRecommendation: document.getElementById('riskRecommendation'),
                economicEvents: document.getElementById('economicEvents'),
                aiPrediction: document.getElementById('aiPrediction'),
                predictionChart: document.getElementById('predictionChart'),
                confidenceFill: document.getElementById('confidenceFill'),
                confidenceValue: document.getElementById('confidenceValue'),
                aiRecommendation: document.getElementById('aiRecommendation'),
                aiReasoning: document.getElementById('aiReasoning'),
                refreshPrediction: document.getElementById('refreshPrediction'),
                marketSegmentation: document.getElementById('marketSegmentation'),
                notification: document.getElementById('notification'),
                notificationMessage: document.getElementById('notificationMessage'),
                
                // API Configuration
                apiConfig: {
                    forex: {
                        url: 'https://api.freecurrencyapi.com/v1/latest',
                        params: {
                            apikey: 'fca_live_8W5sJvx2pJ2vVQxO1W5vqT7V7v5v3V3V3V3V3V3',
                            base_currency: 'USD',
                            currencies: 'EUR,GBP,JPY,CHF,CAD,AUD,NZD'
                        }
                    },
                    crypto: {
                        url: 'https://api.coingecko.com/api/v3/simple/price',
                        params: {
                            ids: 'bitcoin,ethereum,bnb,ripple',
                            vs_currencies: 'usd',
                            include_24hr_change: 'true'
                        }
                    }
                },
                
                // App State
                currentRates: {},
                chartInstance: null,
                
                // Initialize App
                init() {
                    this.setupEventListeners();
                    this.updateCurrencyFlags();
                    this.updateMarketSentiment();
                    this.initAIPrediction();
                    this.initMarketSegmentation();
                    this.calculateProfit();
                    this.startLiveUpdates();
                    this.fetchAllMarketData();
                    this.showNotification('Welcome to PipProfit Pro! Loading market data...', 'success');
                },
                
                // Setup Event Listeners
                setupEventListeners() {
                    // Toggle mobile menu
                    this.menuBtn.addEventListener('click', () => {
                        this.navLinks.classList.toggle('active');
                    });
                    
                    // Close mobile menu when clicking a link
                    document.querySelectorAll('.nav-links a').forEach(link => {
                        link.addEventListener('click', () => {
                            this.navLinks.classList.remove('active');
                        });
                    });
                    
                    // Calculate profit/loss
                    this.calculateBtn.addEventListener('click', () => {
                        this.calculateProfit();
                    });
                    
                    // Currency pair change
                    this.currencyPair.addEventListener('change', () => {
                        this.updateCurrencyFlags();
                        this.updateMarketSentiment();
                        this.updateInsights();
                        this.calculateProfit();
                    });
                    
                    // Position type change
                    this.positionType.addEventListener('change', () => {
                        this.calculateProfit();
                    });
                    
                    // Refresh AI Prediction
                    if (this.refreshPrediction) {
                        this.refreshPrediction.addEventListener('click', () => {
                            this.generatePrediction();
                        });
                    }
                    
                    // Market segmentation tabs
                    const segmentBtns = document.querySelectorAll('.segment-btn');
                    segmentBtns.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const segment = btn.dataset.segment;
                            this.switchMarketSegment(segment, btn);
                        });
                    });
                },
                
                // Calculate profit/loss
                calculateProfit() {
                    const lotSize = parseFloat(document.getElementById('lotSize').value) || 0;
                    const entryPrice = parseFloat(document.getElementById('entryPrice').value) || 0;
                    const exitPrice = parseFloat(document.getElementById('exitPrice').value) || 0;
                    const currencyPair = document.getElementById('currencyPair').value;
                    const positionType = document.getElementById('positionType').value;
                    
                    if (!lotSize || !entryPrice || !exitPrice) {
                        this.showNotification('Please fill in all fields', 'error');
                        return;
                    }
                    
                    // Extract currencies
                    const [baseCurrency, quoteCurrency] = currencyPair.split('/');
                    
                    // Calculate price difference
                    const priceDifference = positionType === 'long' 
                        ? exitPrice - entryPrice 
                        : entryPrice - exitPrice;
                    
                    // Calculate pip value based on currency pair
                    let pipValue, profit;
                    const contractSize = 100000; // Standard contract size (100,000 units per lot)
                    
                    if (quoteCurrency === 'USD') {
                        // For XXX/USD pairs
                        pipValue = 10 * lotSize;
                        profit = priceDifference * contractSize * lotSize;
                    } else if (baseCurrency === 'USD') {
                        // For USD/XXX pairs
                        pipValue = (10 * lotSize) / exitPrice;
                        profit = (priceDifference * contractSize * lotSize) / exitPrice;
                    } else {
                        // For cross pairs (not USD based)
                        pipValue = (10 * lotSize) * exitPrice;
                        profit = (priceDifference * contractSize * lotSize) * exitPrice;
                    }
                    
                    // Show result
                    this.profitAmount.textContent = `${profit >= 0 ? '$' : '-$'}${Math.abs(profit).toFixed(2)}`;
                    this.profitAmount.className = `profit-amount ${profit >= 0 ? '' : 'loss'}`;
                    
                    const positionText = positionType === 'long' ? 'buy' : 'sell';
                    this.resultDetails.textContent = `For ${lotSize} lots ${positionText} of ${currencyPair} from ${entryPrice.toFixed(4)} to ${exitPrice.toFixed(4)}`;
                    this.result.style.display = 'block';
                    
                    // Update insights
                    this.updateInsights();
                },
                
                // Update trading insights
                updateInsights() {
                    const pair = this.currencyPair.value;
                    const position = this.positionType.value;
                    const entry = parseFloat(document.getElementById('entryPrice').value);
                    
                    // Update market trend
                    const trends = {
                        'EUR/USD': 'Bullish momentum increasing with strong support at 1.0850',
                        'GBP/USD': 'Bearish pressure building, watch for breakout below 1.2650',
                        'USD/JPY': 'Neutral with sideways movement between 147.50-148.20',
                        'AUD/USD': 'Bullish trend emerging after breaking resistance at 0.6650',
                        'USD/CAD': 'Strong bearish sentiment, approaching support at 1.3350',
                        'NZD/USD': 'Slightly bullish with mixed signals',
                        'USD/CHF': 'Moderate bullish pressure developing'
                    };
                    this.marketTrend.textContent = `${pair}: ${trends[pair] || 'Moderate market activity'}`;
                    
                    // Update risk recommendation
                    const stopLoss = position === 'long' 
                        ? (entry * 0.995).toFixed(4) 
                        : (entry * 1.005).toFixed(4);
                    this.riskRecommendation.textContent = `Set stop loss at ${stopLoss} for this ${position} position`;
                    
                    // Update economic events
                    const events = {
                        'EUR/USD': 'ECB interest rate decision tomorrow may impact EUR pairs',
                        'GBP/USD': 'UK inflation data release in 2 days could increase volatility',
                        'USD/JPY': 'Bank of Japan meeting next week may affect JPY pairs',
                        'AUD/USD': 'RBA minutes release tomorrow could impact AUD',
                        'USD/CAD': 'Canadian employment data on Friday may cause CAD movement',
                        'NZD/USD': 'NZ business confidence index tomorrow could affect NZD',
                        'USD/CHF': 'SNB monetary policy next week may impact CHF'
                    };
                    this.economicEvents.textContent = events[pair] || 'US Fed meeting tomorrow may impact USD pairs';
                },
                
                // Update currency flags
                updateCurrencyFlags() {
                    const pair = this.currencyPair.value;
                    const [base, quote] = pair.split('/');
                    
                    // Set flag sources
                    this.baseFlag.src = `https://flagcdn.com/16x12/${this.getCountryCode(base)}.png`;
                    this.quoteFlag.src = `https://flagcdn.com/16x12/${this.getCountryCode(quote)}.png`;
                },
                
                // Get country code from currency
                getCountryCode(currency) {
                    const codes = {
                        'EUR': 'eu',
                        'USD': 'us',
                        'GBP': 'gb',
                        'JPY': 'jp',
                        'AUD': 'au',
                        'CAD': 'ca',
                        'NZD': 'nz',
                        'CHF': 'ch'
                    };
                    
                    return codes[currency] || 'eu';
                },
                
                // Update market sentiment indicator
                updateMarketSentiment() {
                    const pair = this.currencyPair.value;
                    const sentiments = {
                        'EUR/USD': { sentiment: 'Bullish', value: '72% bullish' },
                        'GBP/USD': { sentiment: 'Bearish', value: '65% bearish' },
                        'USD/JPY': { sentiment: 'Neutral', value: '54% neutral' },
                        'AUD/USD': { sentiment: 'Bullish', value: '68% bullish' },
                        'USD/CAD': { sentiment: 'Bearish', value: '62% bearish' },
                        'NZD/USD': { sentiment: 'Neutral', value: '51% neutral' },
                        'USD/CHF': { sentiment: 'Bullish', value: '59% bullish' }
                    };
                    
                    const sentiment = sentiments[pair] || { sentiment: 'Neutral', value: '50% neutral' };
                    
                    this.sentimentBadge.textContent = sentiment.sentiment;
                    this.sentimentBadge.className = `sentiment-badge ${sentiment.sentiment.toLowerCase()}`;
                    this.sentimentValue.textContent = sentiment.value;
                    
                    // Set market pressure indicator
                    let pressureValue = 50;
                    if (sentiment.sentiment === 'Bullish') pressureValue = 70 + Math.floor(Math.random() * 20);
                    if (sentiment.sentiment === 'Bearish') pressureValue = 30 - Math.floor(Math.random() * 20);
                    
                    this.pressureFill.style.width = `${pressureValue}%`;
                    this.pressureFill.className = pressureValue >= 50 ? 
                        'pressure-fill bullish-fill' : 'pressure-fill bearish-fill';
                },
                
                // Initialize AI Prediction
                initAIPrediction() {
                    this.generatePrediction();
                    
                    // Set up prediction chart
                    const ctx = this.predictionChart.getContext('2d');
                    
                    // Destroy previous chart if it exists
                    if (this.chartInstance) {
                        this.chartInstance.destroy();
                    }
                    
                    this.chartInstance = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['1H', '2H', '3H', '4H', '5H', '6H'],
                            datasets: [{
                                label: 'Predicted Price',
                                data: [1.1250, 1.1275, 1.1290, 1.1310, 1.1325, 1.1340],
                                borderColor: '#2563eb',
                                backgroundColor: 'rgba(37, 99, 235, 0.1)',
                                tension: 0.4,
                                fill: true,
                                pointBackgroundColor: '#2563eb',
                                pointBorderColor: '#fff',
                                pointRadius: 5,
                                pointHoverRadius: 8
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    display: false
                                },
                                tooltip: {
                                    mode: 'index',
                                    intersect: false,
                                    backgroundColor: 'rgba(15, 23, 42, 0.9)',
                                    titleColor: '#e2e8f0',
                                    bodyColor: '#cbd5e1',
                                    borderColor: 'rgba(37, 99, 235, 0.5)',
                                    borderWidth: 1,
                                    padding: 15,
                                    cornerRadius: 8
                                }
                            },
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    ticks: {
                                        color: '#94a3b8'
                                    }
                                },
                                x: {
                                    grid: {
                                        color: 'rgba(255, 255, 255, 0.1)'
                                    },
                                    ticks: {
                                        color: '#94a3b8'
                                    }
                                }
                            }
                        }
                    });
                },
                
                // Generate AI Prediction
                generatePrediction() {
                    const pair = this.currencyPair.value;
                    
                    // Simulate AI processing
                    this.refreshPrediction.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
                    this.refreshPrediction.disabled = true;
                    
                    setTimeout(() => {
                        // Generate random confidence between 60-90%
                        const confidence = 60 + Math.floor(Math.random() * 30);
                        this.confidenceFill.style.width = `${confidence}%`;
                        this.confidenceValue.textContent = `${confidence}%`;
                        
                        // Determine recommendation based on sentiment
                        const sentiment = this.sentimentBadge.textContent.toLowerCase();
                        let recommendation, reasoning;
                        
                        if (sentiment === 'bullish') {
                            recommendation = 'STRONG BUY';
                            reasoning = `Based on analysis of ${pair} market patterns, our AI detects strong bullish momentum with ${confidence}% confidence.`;
                        } else if (sentiment === 'bearish') {
                            recommendation = 'STRONG SELL';
                            reasoning = `Based on analysis of ${pair} market patterns, our AI detects bearish pressure with ${confidence}% confidence.`;
                        } else {
                            recommendation = 'NEUTRAL';
                            reasoning = `Based on analysis of ${pair} market patterns, our AI detects sideways movement with ${confidence}% confidence.`;
                        }
                        
                        this.aiRecommendation.textContent = recommendation;
                        
                        // Set color based on recommendation
                        if (recommendation.includes('BUY')) {
                            this.aiRecommendation.className = 'bullish';
                        } else if (recommendation.includes('SELL')) {
                            this.aiRecommendation.className = 'bearish';
                        } else {
                            this.aiRecommendation.className = 'neutral';
                        }
                        
                        this.aiReasoning.textContent = reasoning;
                        
                        // Reset button
                        this.refreshPrediction.innerHTML = '<i class="fas fa-sync-alt"></i> Refresh Prediction';
                        this.refreshPrediction.disabled = false;
                        
                        this.showNotification(`AI prediction updated for ${pair}: ${recommendation}`, 'success');
                        
                    }, 1500); // Simulate processing time
                },
                
                // Initialize Market Segmentation
                initMarketSegmentation() {
                    // Set up the segmentation tabs
                    const segmentBtns = document.querySelectorAll('.segment-btn');
                    if (segmentBtns.length > 0) {
                        segmentBtns.forEach(btn => {
                            btn.addEventListener('click', () => {
                                const segment = btn.dataset.segment;
                                this.switchMarketSegment(segment, btn);
                            });
                        });
                    }
                },
                
                // Switch Market Segment
                switchMarketSegment(segment, button) {
                    // Update active button
                    document.querySelectorAll('.segment-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                    
                    // Update active content
                    document.querySelectorAll('.segment-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${segment}-segment`).classList.add('active');
                    
                    // Fetch data for this segment if not already loaded
                    this.fetchMarketData(segment);
                },
                
                // Fetch All Market Data
                fetchAllMarketData() {
                    // Fetch data for all market segments
                    this.fetchMarketData('forex');
                    this.fetchMarketData('crypto');
                    this.fetchMarketData('indices');
                    this.fetchMarketData('commodities');
                },
                
                // Fetch Market Data from APIs
                fetchMarketData(segment) {
                    const config = this.apiConfig[segment];
                    
                    // Show loading state
                    const grid = document.getElementById(`${segment}-grid`);
                    if (grid) {
                        grid.querySelectorAll('.market-card').forEach(card => {
                            card.classList.add('loading');
                            card.querySelector('.market-price').textContent = 'Loading...';
                            card.querySelector('.market-change').textContent = '--';
                        });
                    }
                    
                    // For forex and crypto, use actual APIs
                    if (segment === 'forex' || segment === 'crypto') {
                        // Build URL with params
                        const url = new URL(config.url);
                        Object.keys(config.params).forEach(key => {
                            url.searchParams.append(key, config.params[key]);
                        });
                        
                        // Fetch data
                        fetch(url)
                            .then(response => {
                                if (!response.ok) throw new Error('Network response was not ok');
                                return response.json();
                            })
                            .then(data => {
                                this.processMarketData(segment, data);
                                this.showNotification(`${segment} data updated successfully`, 'success');
                            })
                            .catch(error => {
                                console.error(`Error fetching ${segment} data:`, error);
                                // Fall back to simulated data if API fails
                                this.useSimulatedData(segment);
                                this.showNotification(`Using simulated data for ${segment}`, 'error');
                            });
                    } else {
                        // For indices and commodities, use simulated data
                        this.useSimulatedData(segment);
                    }
                },
                
                // Process Market Data from API response
                processMarketData(segment, data) {
                    const grid = document.getElementById(`${segment}-grid`);
                    if (!grid) return;
                    
                    // Remove loading state
                    grid.querySelectorAll('.market-card').forEach(card => {
                        card.classList.remove('loading');
                    });
                    
                    // Process based on segment type
                    switch(segment) {
                        case 'forex':
                            this.processForexData(data, grid);
                            break;
                        case 'crypto':
                            this.processCryptoData(data, grid);
                            break;
                    }
                },
                
                // Process Forex Data
                processForexData(data, grid) {
                    if (data && data.data) {
                        const currencies = {
                            'EUR/USD': { element: grid.children[0], rate: data.data.EUR },
                            'GBP/USD': { element: grid.children[1], rate: data.data.GBP },
                            'USD/JPY': { element: grid.children[2], rate: data.data.JPY },
                            'USD/CHF': { element: grid.children[3], rate: data.data.CHF }
                        };
                        
                        Object.keys(currencies).forEach(pair => {
                            const currency = currencies[pair];
                            if (currency.rate) {
                                const priceEl = currency.element.querySelector('.market-price');
                                const changeEl = currency.element.querySelector('.market-change');
                                
                                if (priceEl) priceEl.textContent = currency.rate.toFixed(4);
                                if (changeEl) {
                                    // Simulate change for demo (in a real app, you would calculate actual change)
                                    const change = (Math.random() - 0.5) * 0.5;
                                    changeEl.textContent = `${change > 0 ? '+' : ''}${change.toFixed(2)}%`;
                                    changeEl.className = `market-change ${change >= 0 ? 'positive' : 'negative'}`;
                                }
                            }
                        });
                    }
                },
                
                // Process Crypto Data
                processCryptoData(data, grid) {
                    if (data) {
                        const cryptos = {
                            'BTC/USD': { element: grid.children[0], data: data.bitcoin },
                            'ETH/USD': { element: grid.children[1], data: data.ethereum },
                            'BNB/USD': { element: grid.children[2], data: data.bnb },
                            'XRP/USD': { element: grid.children[3], data: data.ripple }
                        };
                        
                        Object.keys(cryptos).forEach(pair => {
                            const crypto = cryptos[pair];
                            if (crypto.data) {
                                const priceEl = crypto.element.querySelector('.market-price');
                                const changeEl = crypto.element.querySelector('.market-change');
                                
                                if (priceEl) priceEl.textContent = crypto.data.usd.toLocaleString();
                                if (changeEl && crypto.data.usd_24h_change) {
                                    const change = crypto.data.usd_24h_change;
                                    changeEl.textContent = `${change > 0 ? '+' : ''}${change.toFixed(2)}%`;
                                    changeEl.className = `market-change ${change >= 0 ? 'positive' : 'negative'}`;
                                }
                            }
                        });
                    }
                },
                
                // Use Simulated Data when API is not available
                useSimulatedData(segment) {
                    const grid = document.getElementById(`${segment}-grid`);
                    if (!grid) return;
                    
                    // Remove loading state
                    grid.querySelectorAll('.market-card').forEach(card => {
                        card.classList.remove('loading');
                    });
                    
                    // Simulated data for each segment
                    const simulatedData = {
                        forex: [
                            { symbol: 'EUR/USD', price: 1.0872, change: 0.42 },
                            { symbol: 'GBP/USD', price: 1.2705, change: 0.28 },
                            { symbol: 'USD/JPY', price: 147.85, change: -0.15 },
                            { symbol: 'USD/CHF', price: 0.8834, change: 0.33 }
                        ],
                        crypto: [
                            { symbol: 'BTC/USD', price: 42150, change: 2.75 },
                            { symbol: 'ETH/USD', price: 2245, change: 1.83 },
                            { symbol: 'BNB/USD', price: 315.50, change: -0.45 },
                            { symbol: 'XRP/USD', price: 0.575, change: 0.92 }
                        ],
                        indices: [
                            { symbol: 'S&P 500', price: 4769.8, change: 0.87 },
                            { symbol: 'DOW JONES', price: 37468.6, change: 0.54 },
                            { symbol: 'NASDAQ', price: 15055.7, change: 1.23 },
                            { symbol: 'FTSE 100', price: 7687.4, change: -0.32 }
                        ],
                        commodities: [
                            { symbol: 'Crude Oil', price: 72.45, change: 1.25 },
                            { symbol: 'Gold', price: 2034.7, change: 0.67 },
                            { symbol: 'Silver', price: 23.15, change: -0.35 },
                            { symbol: 'Natural Gas', price: 2.685, change: 2.15 }
                        ]
                    };
                    
                    const data = simulatedData[segment];
                    if (data && grid.children.length >= data.length) {
                        data.forEach((item, index) => {
                            const card = grid.children[index];
                            const priceEl = card.querySelector('.market-price');
                            const changeEl = card.querySelector('.market-change');
                            
                            if (priceEl) priceEl.textContent = segment === 'forex' ? item.price.toFixed(4) : item.price.toLocaleString();
                            if (changeEl) {
                                changeEl.textContent = `${item.change > 0 ? '+' : ''}${item.change.toFixed(2)}%`;
                                changeEl.className = `market-change ${item.change >= 0 ? 'positive' : 'negative'}`;
                            }
                        });
                    }
                },
                
                // Start Live Updates
                startLiveUpdates() {
                    // Update market data every 60 seconds
                    setInterval(() => {
                        const activeSegment = document.querySelector('.segment-btn.active');
                        if (activeSegment) {
                            this.fetchMarketData(activeSegment.dataset.segment);
                        }
                        this.updateMarketSentiment();
                    }, 60000);
                },
                
                // Show Notification
                showNotification(message, type = 'info') {
                    this.notificationMessage.textContent = message;
                    this.notification.className = 'notification';
                    
                    if (type === 'error') {
                        this.notification.classList.add('notification-error');
                    } else if (type === 'success') {
                        this.notification.classList.add('notification-success');
                    }
                    
                    this.notification.classList.add('show');
                    
                    // Auto hide after 5 seconds
                    setTimeout(() => {
                        this.notification.classList.remove('show');
                    }, 5000);
                }
            };
            
            // Initialize the app
            app.init();
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Transparency Lens</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --danger: #e74c3c;
            --warning: #f39c12;
            --success: #2ecc71;
            --light: #ecf0f1;
            --dark: #34495e;
            --neutral: #7f8c8d;
            --engagement: #ff6b6b;
            --profit: #feca57;
            --political: #48dbfb;
            --neutral-color: #1dd1a1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            background: linear-gradient(to right, #3498db, #2c3e50);
            color: white;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 25px;
            height: 100%;
        }
        
        .card-header {
            font-weight: bold;
            margin-bottom: 20px;
            color: var(--secondary);
            font-size: 1.4rem;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid var(--light);
            border-radius: 10px;
            resize: vertical;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .button-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 576px) {
            .button-group {
                grid-template-columns: 1fr;
            }
        }
        
        button {
            padding: 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        #engagement-btn {
            background: linear-gradient(to right, #ff6b6b, #ff9a3d);
            color: white;
        }
        
        #profit-btn {
            background: linear-gradient(to right, #feca57, #ff9f43);
            color: white;
        }
        
        #political-btn {
            background: linear-gradient(to right, #48dbfb, #0abde3);
            color: white;
        }
        
        #neutral-btn {
            background: linear-gradient(to right, #1dd1a1, #10ac84);
            color: white;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .metric {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .metric-label {
            font-size: 0.9rem;
            color: var(--dark);
        }
        
        .panel-content {
            min-height: 300px;
            padding: 20px;
            line-height: 1.8;
            border: 2px solid var(--light);
            border-radius: 10px;
            overflow-y: auto;
            max-height: 500px;
        }
        
        .manipulative {
            background-color: rgba(255, 107, 107, 0.2);
            border-bottom: 2px solid var(--engagement);
            padding: 0 2px;
            font-weight: bold;
        }
        
        .political {
            background-color: rgba(72, 219, 251, 0.2);
            border-bottom: 2px solid var(--political);
            padding: 0 2px;
            font-weight: bold;
        }
        
        .neutral {
            background-color: rgba(29, 209, 161, 0.2);
            border-bottom: 2px solid var(--neutral-color);
            padding: 0 2px;
            font-weight: bold;
        }
        
        .ad-highlight {
            background-color: rgba(254, 202, 87, 0.3);
            border-bottom: 2px dashed var(--profit);
            padding: 0 2px;
            font-style: italic;
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: var(--dark);
            font-size: 16px;
            margin-top: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            background: var(--light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--primary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .analysis-result {
            margin-top: 20px;
            padding: 15px;
            background: var(--light);
            border-radius: 10px;
        }
        
        .bias-indicator {
            height: 10px;
            background: var(--light);
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .bias-value {
            height: 100%;
            border-radius: 5px;
        }
        
        .engagement-bias {
            background: var(--engagement);
            width: 75%;
        }
        
        .profit-bias {
            background: var(--profit);
            width: 60%;
        }
        
        .political-bias {
            background: var(--political);
            width: 45%;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted black;
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-search-plus"></i> Algorithm Transparency Lens</h1>
            <p class="tagline">Revealing how algorithms manipulate content for engagement, profit, and political influence</p>
        </header>
        
        <div class="main-content">
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-pencil-alt"></i> Input Text
                </div>
                <textarea id="input-text" placeholder="Paste or type any text here to analyze...">Social media platforms have revolutionized how people communicate and access information. These platforms use sophisticated algorithms to curate content for users. While this can help people discover relevant information, it also creates filter bubbles and can amplify extreme content. Many experts are concerned about the societal impact of these algorithms and their effect on public discourse.</textarea>
                
                <div class="button-group">
                    <button id="engagement-btn">
                        <i class="fas fa-fire"></i> Engagement Bias
                    </button>
                    <button id="profit-btn">
                        <i class="fas fa-dollar-sign"></i> Profit Bias
                    </button>
                    <button id="political-btn">
                        <i class="fas fa-landmark"></i> Political Bias
                    </button>
                    <button id="neutral-btn">
                        <i class="fas fa-balance-scale"></i> Neutral Output
                    </button>
                </div>
                
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label">Manipulation Score</div>
                        <div class="metric-value">72%</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Bias Detected</div>
                        <div class="metric-value">High</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Emotional Language</div>
                        <div class="metric-value">64%</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Ad Density</div>
                        <div class="metric-value">28%</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-code"></i> Algorithmic Output
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="output">Output</div>
                    <div class="tab" data-tab="analysis">Analysis</div>
                    <div class="tab" data-tab="comparison">Comparison</div>
                </div>
                
                <div class="tab-content active" id="output-tab">
                    <div id="output-text" class="panel-content">
                        <p>Output will appear here after analysis...</p>
                    </div>
                </div>
                
                <div class="tab-content" id="analysis-tab">
                    <div class="panel-content">
                        <h3>Text Analysis</h3>
                        <p>This content appears to have a <strong>high manipulation score</strong> with significant engagement optimization.</p>
                        
                        <h4>Bias Indicators</h4>
                        <p>Engagement Bias: <span class="tooltip">75%<span class="tooltiptext">Emotional language and sensationalism</span></span></p>
                        <div class="bias-indicator">
                            <div class="bias-value engagement-bias"></div>
                        </div>
                        
                        <p>Profit Bias: <span class="tooltip">60%<span class="tooltiptext">Commercial language and advertising cues</span></span></p>
                        <div class="bias-indicator">
                            <div class="bias-value profit-bias"></div>
                        </div>
                        
                        <p>Political Bias: <span class="tooltip">45%<span class="tooltiptext">Ideological framing and partisan language</span></span></p>
                        <div class="bias-indicator">
                            <div class="bias-value political-bias"></div>
                        </div>
                        
                        <div class="analysis-result">
                            <h4>Recommendation</h4>
                            <p>This content shows signs of significant algorithmic manipulation. Consider seeking additional perspectives on this topic.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="comparison-tab">
                    <div class="panel-content">
                        <h3>Comparison with Original</h3>
                        <p>The algorithm has made several significant changes to the original text:</p>
                        <ul>
                            <li>Added emotional language to increase engagement</li>
                            <li>Inserted commercial elements for monetization</li>
                            <li>Amplified certain political perspectives</li>
                            <li>Shortened sentences for better readability</li>
                            <li>Added calls-to-action to keep users engaged</li>
                        </ul>
                        
                        <h4>Impact Assessment</h4>
                        <p>These changes may influence readers by:</p>
                        <ul>
                            <li>Increasing emotional response to content</li>
                            <li>Creating a sense of urgency or importance</li>
                            <li>Steering opinion in particular directions</li>
                            <li>Encouraging more time on platform</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>OATL – Open Algorithm Transparency Lens. Awareness is power.</p>
            <p>This tool is for educational purposes to demonstrate how algorithms can manipulate content.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputTextarea = document.getElementById('input-text');
            const outputTextDiv = document.getElementById('output-text');
            
            const engagementBtn = document.getElementById('engagement-btn');
            const profitBtn = document.getElementById('profit-btn');
            const politicalBtn = document.getElementById('political-btn');
            const neutralBtn = document.getElementById('neutral-btn');
            
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Tab functionality
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                });
            });
            
            // Engagement Bias transformation
            engagementBtn.addEventListener('click', function() {
                const text = inputTextarea.value;
                if (!text) return;
                
                let output = text;
                
                // Replace emotional words with more intense versions
                const emotionalWords = {
                    'good': 'AMAZING',
                    'bad': 'TERRIBLE',
                    'nice': 'INCREDIBLE',
                    'happy': 'ECSTATIC',
                    'sad': 'DEVASTATED',
                    'like': 'ABSOLUTELY LOVE',
                    'dislike': 'ABHOR',
                    'okay': 'SPECTACULAR',
                    'interesting': 'MIND-BLOWING',
                    'fun': 'UNFORGETTABLE',
                    'important': 'CRUCIAL',
                    'big': 'MASSIVE',
                    'small': 'TINY',
                    'many': 'A TON OF',
                    'help': 'SAVE',
                    'problem': 'DISASTER',
                    'change': 'REVOLUTIONIZE',
                    'people': 'EVERYONE'
                };
                
                for (const [key, value] of Object.entries(emotionalWords)) {
                    const regex = new RegExp(`\\b${key}\\b`, 'gi');
                    output = output.replace(regex, `<span class="manipulative">${value}</span>`);
                }
                
                // Add random emojis
                const emojis = ['🔥', '😱', '💥', '🤯', '❤️', '👀', '🚨', '✨', '👍', '👎', '😍', '⚡'];
                const words = output.split(' ');
                let emojiCount = 0;
                
                for (let i = 0; i < words.length; i++) {
                    // Add emoji after every 5-8 words
                    if (Math.random() < 0.12 && emojiCount < 8) {
                        const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                        words[i] = words[i] + ` <span class="manipulative">${randomEmoji}</span>`;
                        emojiCount++;
                    }
                }
                
                output = words.join(' ');
                
                // Add a sensational headline
                output = `<h3 style="color: var(--engagement); margin-bottom: 15px;">YOU WON'T BELIEVE How Algorithms Are Manipulating You! 😱</h3>` + output;
                
                // Add a call to action
                output += `<p style="margin-top: 20px; font-weight: bold;" class="manipulative">SHARE this if you think everyone needs to know about this! 👆</p>`;
                
                outputTextDiv.innerHTML = output;
                
                // Switch to output tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                tabs[0].classList.add('active');
                tabContents[0].classList.add('active');
            });
            
            // Profit Bias transformation
            profitBtn.addEventListener('click', function() {
                const text = inputTextarea.value;
                if (!text) return;
                
                const words = text.split(' ');
                const adPhrases = [
                    '<span class="ad-highlight">- Sponsored by BetterTech</span>',
                    '<span class="ad-highlight">Buy Now!</span>',
                    '<span class="ad-highlight">Limited Offer!</span>',
                    '<span class="ad-highlight">Sale ends soon!</span>',
                    '<span class="ad-highlight">Click here to learn more!</span>',
                    '<span class="ad-highlight">Discount code: SAVE20</span>',
                    '<span class="ad-highlight">FREE shipping on orders over $50!</span>',
                    '<span class="ad-highlight">Recommended just for YOU!</span>'
                ];
                
                let outputWords = [];
                let adCount = 0;
                
                for (let i = 0; i < words.length; i++) {
                    outputWords.push(words[i]);
                    
                    // Add ad phrase after every 8-12 words, but no more than 5 ads
                    if (i % Math.floor(Math.random() * 5 + 8) === 0 && adCount < 5) {
                        const randomAd = adPhrases[Math.floor(Math.random() * adPhrases.length)];
                        outputWords.push(randomAd);
                        adCount++;
                    }
                }
                
                let output = outputWords.join(' ');
                
                // Add a sponsored message at the beginning
                output = `<p class="ad-highlight">This content is sponsored by SocialMediaPro - The #1 Tool for Content Creators!</p>` + output;
                
                // Add a product recommendation at the end
                output += `<div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; border-left: 4px solid var(--profit);">
                    <h4>Recommended for You</h4>
                    <p>Try <span class="ad-highlight">AdFree Experience</span> - browse without annoying ads for just $4.99/month!</p>
                </div>`;
                
                outputTextDiv.innerHTML = output;
                
                // Switch to output tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                tabs[0].classList.add('active');
                tabContents[0].classList.add('active');
            });
            
            // Political Bias transformation
            politicalBtn.addEventListener('click', function() {
                const text = inputTextarea.value;
                if (!text) return;
                
                let output = text;
                
                // Replace neutral terms with politically charged ones
                const leftReplacements = {
                    'people': 'the public',
                    'taxes': 'fair share contributions',
                    'business': 'corporate interests',
                    'government': 'public institutions',
                    'freedom': 'social justice',
                    'rights': 'human rights',
                    'economy': 'working class economy',
                    'society': 'inclusive society',
                    'individual': 'community',
                    'company': 'multinational corporation'
                };
                
                const rightReplacements = {
                    'people': 'hardworking citizens',
                    'taxes': 'government overreach',
                    'business': 'job creators',
                    'government': 'bureaucracy',
                    'freedom': 'liberty',
                    'rights': 'constitutional rights',
                    'economy': 'free market economy',
                    'society': 'traditional values',
                    'individual': 'patriot',
                    'company': 'American business'
                };
                
                // Choose a random political leaning for this transformation
                const isLeftLeaning = Math.random() > 0.5;
                const replacements = isLeftLeaning ? leftReplacements : rightReplacements;
                
                for (const [key, value] of Object.entries(replacements)) {
                    const regex = new RegExp(`\\b${key}\\b`, 'gi');
                    output = output.replace(regex, `<span class="political">${value}</span>`);
                }
                
                // Add slanting adjectives
                const leftAdjectives = ['progressive', 'inclusive', 'diverse', 'equitable', 'socialist', 'woke', 'radical'];
                const rightAdjectives = ['patriotic', 'traditional', 'conservative', 'free-market', 'nationalist', 'family-values', 'liberty-loving'];
                
                const adjectives = isLeftLeaning ? leftAdjectives : rightAdjectives;
                const words = output.split(' ');
                
                for (let i = 0; i < words.length; i++) {
                    // Add a political adjective before some nouns
                    if (Math.random() < 0.1) {
                        const randomAdjective = adjectives[Math.floor(Math.random() * adjectives.length)];
                        words[i] = `<span class="political">${randomAdjective}</span> ` + words[i];
                    }
                }
                
                output = words.join(' ');
                
                // Add a biased framing
                const leftFraming = `<blockquote style="border-left: 4px solid var(--political); padding-left: 15px; font-style: italic;">
                    Experts agree that these changes will benefit working families.
                </blockquote>`;
                
                const rightFraming = `<blockquote style="border-left: 4px solid var(--political); padding-left: 15px; font-style: italic;">
                    Studies show that these policies will strengthen our economy.
                </blockquote>`;
                
                output = output + (isLeftLeaning ? leftFraming : rightFraming);
                
                outputTextDiv.innerHTML = output;
                
                // Switch to output tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                tabs[0].classList.add('active');
                tabContents[0].classList.add('active');
            });
            
            // Neutral Output transformation
            neutralBtn.addEventListener('click', function() {
                const text = inputTextarea.value;
                if (!text) return;
                
                let output = text;
                
                // Highlight neutral/balanced words
                const neutralWords = [
                    'fair', 'neutral', 'equal', 'balanced', 'objective',
                    'unbiased', 'moderate', 'reasonable', 'pragmatic', 'empirical',
                    'evidence-based', 'factual', ' impartial', 'rational'
                ];
                
                for (const word of neutralWords) {
                    const regex = new RegExp(`\\b${word}\\b`, 'gi');
                    output = output.replace(regex, `<span class="neutral">${word}</span>`);
                }
                
                outputTextDiv.innerHTML = output;
                
                // Switch to output tab
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                tabs[0].classList.add('active');
                tabContents[0].classList.add('active');
            });
            
            // Initialize with example text
            engagementBtn.click();
        });
    </script>
</body>
</html>